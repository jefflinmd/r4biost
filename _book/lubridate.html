<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 12 日期時間處理 | R 資料科學與統計</title>
  <meta name="description" content="Chapter 12 日期時間處理 | R 資料科學與統計" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 12 日期時間處理 | R 資料科學與統計" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Chapter 12 日期時間處理 | R 資料科學與統計" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 12 日期時間處理 | R 資料科學與統計" />
  
  <meta name="twitter:description" content="Chapter 12 日期時間處理 | R 資料科學與統計" />
  

<meta name="author" content="林建甫 Jeff Lin" />


<meta name="date" content="2020-10-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="forcats.html"/>
<link rel="next" href="StatIntro.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> R 語言基本概論</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#下載與安裝-r"><i class="fa fa-check"></i><b>1.1</b> 下載與安裝 R</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#下載與安裝-rsudio"><i class="fa fa-check"></i><b>1.2</b> 下載與安裝 RSudio</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#簡單實例"><i class="fa fa-check"></i><b>1.3</b> 簡單實例</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#物件-object"><i class="fa fa-check"></i><b>1.4</b> 物件 Object</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#使用指令"><i class="fa fa-check"></i><b>1.5</b> 使用指令</a></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#查詢顯示物件與刪除物件"><i class="fa fa-check"></i><b>1.6</b> 查詢顯示物件與刪除物件</a></li>
<li class="chapter" data-level="1.7" data-path="intro.html"><a href="intro.html#程式中止操作"><i class="fa fa-check"></i><b>1.7</b> 程式中止操作</a></li>
<li class="chapter" data-level="1.8" data-path="intro.html"><a href="intro.html#工作目錄"><i class="fa fa-check"></i><b>1.8</b> 工作目錄</a></li>
<li class="chapter" data-level="1.9" data-path="intro.html"><a href="intro.html#程式編輯軟體與整合系統-rstudio"><i class="fa fa-check"></i><b>1.9</b> 程式編輯軟體與整合系統 RStudio</a></li>
<li class="chapter" data-level="1.10" data-path="intro.html"><a href="intro.html#函式-function"><i class="fa fa-check"></i><b>1.10</b> 函式 Function</a></li>
<li class="chapter" data-level="1.11" data-path="intro.html"><a href="intro.html#套件-packages"><i class="fa fa-check"></i><b>1.11</b> 套件 Packages</a></li>
<li class="chapter" data-level="1.12" data-path="intro.html"><a href="intro.html#解說與輔助文件"><i class="fa fa-check"></i><b>1.12</b> 解說與輔助文件</a></li>
<li class="chapter" data-level="1.13" data-path="intro.html"><a href="intro.html#地區語系與時區"><i class="fa fa-check"></i><b>1.13</b> 地區語系與時區</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="vector.html"><a href="vector.html"><i class="fa fa-check"></i><b>2</b> 向量</a>
<ul>
<li class="chapter" data-level="2.1" data-path="vector.html"><a href="vector.html#向量"><i class="fa fa-check"></i><b>2.1</b> 向量</a></li>
<li class="chapter" data-level="2.2" data-path="vector.html"><a href="vector.html#向量基本資料類型"><i class="fa fa-check"></i><b>2.2</b> 向量基本資料類型</a></li>
<li class="chapter" data-level="2.3" data-path="vector.html"><a href="vector.html#向量產生函式-c"><i class="fa fa-check"></i><b>2.3</b> 向量產生函式 <code>c()</code></a></li>
<li class="chapter" data-level="2.4" data-path="vector.html"><a href="vector.html#向量基本運算操作符號"><i class="fa fa-check"></i><b>2.4</b> 向量基本運算操作符號</a></li>
<li class="chapter" data-level="2.5" data-path="vector.html"><a href="vector.html#向量基本算數操作"><i class="fa fa-check"></i><b>2.5</b> 向量基本算數操作</a></li>
<li class="chapter" data-level="2.6" data-path="vector.html"><a href="vector.html#向量關係比較操作"><i class="fa fa-check"></i><b>2.6</b> 向量關係比較操作</a></li>
<li class="chapter" data-level="2.7" data-path="vector.html"><a href="vector.html#向量邏輯操作"><i class="fa fa-check"></i><b>2.7</b> 向量邏輯操作</a></li>
<li class="chapter" data-level="2.8" data-path="vector.html"><a href="vector.html#向量元素命名"><i class="fa fa-check"></i><b>2.8</b> 向量元素命名</a></li>
<li class="chapter" data-level="2.9" data-path="vector.html"><a href="vector.html#向量下標與索引-inxex"><i class="fa fa-check"></i><b>2.9</b> 向量下標與索引 Inxex</a></li>
<li class="chapter" data-level="2.10" data-path="vector.html"><a href="vector.html#遺失值-缺失值-missing-values"><i class="fa fa-check"></i><b>2.10</b> 遺失值 (缺失值) Missing Values</a></li>
<li class="chapter" data-level="2.11" data-path="vector.html"><a href="vector.html#因子物件與類別變數-factor"><i class="fa fa-check"></i><b>2.11</b> 因子物件與類別變數 Factor</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dataobject.html"><a href="dataobject.html"><i class="fa fa-check"></i><b>3</b> 資料物件</a>
<ul>
<li class="chapter" data-level="3.1" data-path="dataobject.html"><a href="dataobject.html#矩陣物件-matrix"><i class="fa fa-check"></i><b>3.1</b> 矩陣物件 Matrix</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="dataobject.html"><a href="dataobject.html#矩陣函式-matrix"><i class="fa fa-check"></i><b>3.1.1</b> 矩陣函式 matrix()</a></li>
<li class="chapter" data-level="3.1.2" data-path="dataobject.html"><a href="dataobject.html#矩陣命名-dimnames"><i class="fa fa-check"></i><b>3.1.2</b> 矩陣命名 dimnames()</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="dataobject.html"><a href="dataobject.html#矩陣的下標與索引-matrix-index"><i class="fa fa-check"></i><b>3.2</b> 矩陣的下標與索引 Matrix Index</a></li>
<li class="chapter" data-level="3.3" data-path="dataobject.html"><a href="dataobject.html#向量與矩陣的合併-rbind-與-cbind"><i class="fa fa-check"></i><b>3.3</b> 向量與矩陣的合併: rbind() 與 cbind()</a></li>
<li class="chapter" data-level="3.4" data-path="dataobject.html"><a href="dataobject.html#陣列物件-array"><i class="fa fa-check"></i><b>3.4</b> 陣列物件 Array</a></li>
<li class="chapter" data-level="3.5" data-path="dataobject.html"><a href="dataobject.html#列表物件-list"><i class="fa fa-check"></i><b>3.5</b> 列表物件 List</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="dataobject.html"><a href="dataobject.html#列表函式-list"><i class="fa fa-check"></i><b>3.5.1</b> 列表函式 list()</a></li>
<li class="chapter" data-level="3.5.2" data-path="dataobject.html"><a href="dataobject.html#列表的下標與索引-list-index"><i class="fa fa-check"></i><b>3.5.2</b> 列表的下標與索引 List Index</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="dataobject.html"><a href="dataobject.html#資料框架-data-frame"><i class="fa fa-check"></i><b>3.6</b> 資料框架 Data Frame</a></li>
<li class="chapter" data-level="3.7" data-path="dataobject.html"><a href="dataobject.html#資料框架函式-data.frame"><i class="fa fa-check"></i><b>3.7</b> 資料框架函式 data.frame()</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="dataobject.html"><a href="dataobject.html#資料框架的下標與索引-data-frame-index"><i class="fa fa-check"></i><b>3.7.1</b> 資料框架的下標與索引 Data Frame Index</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="datainout.html"><a href="datainout.html"><i class="fa fa-check"></i><b>4</b> 資料輸入與輸出</a>
<ul>
<li class="chapter" data-level="4.1" data-path="datainout.html"><a href="datainout.html#資料框架"><i class="fa fa-check"></i><b>4.1</b> 資料框架</a></li>
<li class="chapter" data-level="4.2" data-path="datainout.html"><a href="datainout.html#輸入外部-ascii-資料檔案至-r-資料框架-空白分隔"><i class="fa fa-check"></i><b>4.2</b> 輸入外部 ASCII 資料檔案至 R 資料框架: 空白分隔</a></li>
<li class="chapter" data-level="4.3" data-path="datainout.html"><a href="datainout.html#輸入外部-ascii-資料檔案至-r-資料框架-逗號分隔"><i class="fa fa-check"></i><b>4.3</b> 輸入外部 ASCII 資料檔案至 R 資料框架: 逗號分隔</a></li>
<li class="chapter" data-level="4.4" data-path="datainout.html"><a href="datainout.html#r-內建資料框架"><i class="fa fa-check"></i><b>4.4</b> R 內建資料框架</a></li>
<li class="chapter" data-level="4.5" data-path="datainout.html"><a href="datainout.html#輸出-r-資料"><i class="fa fa-check"></i><b>4.5</b> 輸出 {R} 資料</a></li>
<li class="chapter" data-level="4.6" data-path="datainout.html"><a href="datainout.html#儲存-r-格式資料檔"><i class="fa fa-check"></i><b>4.6</b> 儲存 {R} 格式資料檔</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>5</b> 資料視覺化分析</a>
<ul>
<li class="chapter" data-level="5.1" data-path="dataviz.html"><a href="dataviz.html#視覺化分析原則"><i class="fa fa-check"></i><b>5.1</b> 視覺化分析原則</a></li>
<li class="chapter" data-level="5.2" data-path="dataviz.html"><a href="dataviz.html#繪圖套件-ggplot2"><i class="fa fa-check"></i><b>5.2</b> 繪圖套件 ggplot2</a></li>
<li class="chapter" data-level="5.3" data-path="dataviz.html"><a href="dataviz.html#類別變數"><i class="fa fa-check"></i><b>5.3</b> 類別變數</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="dataviz.html"><a href="dataviz.html#單一類別變數"><i class="fa fa-check"></i><b>5.3.1</b> 單一類別變數</a></li>
<li class="chapter" data-level="5.3.2" data-path="dataviz.html"><a href="dataviz.html#多類別變數"><i class="fa fa-check"></i><b>5.3.2</b> 多類別變數</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="dataviz.html"><a href="dataviz.html#連續變數"><i class="fa fa-check"></i><b>5.4</b> 連續變數</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="dataviz.html"><a href="dataviz.html#單連續變數"><i class="fa fa-check"></i><b>5.4.1</b> 單連續變數</a></li>
<li class="chapter" data-level="5.4.2" data-path="dataviz.html"><a href="dataviz.html#二連續變數"><i class="fa fa-check"></i><b>5.4.2</b> 二連續變數</a></li>
<li class="chapter" data-level="5.4.3" data-path="dataviz.html"><a href="dataviz.html#三連續變數"><i class="fa fa-check"></i><b>5.4.3</b> 三連續變數</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="dataviz.html"><a href="dataviz.html#混合變數"><i class="fa fa-check"></i><b>5.5</b> 混合變數</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="dataviz.html"><a href="dataviz.html#一連續-一類別"><i class="fa fa-check"></i><b>5.5.1</b> 一連續 + 一類別</a></li>
<li class="chapter" data-level="5.5.2" data-path="dataviz.html"><a href="dataviz.html#二連續-一類別"><i class="fa fa-check"></i><b>5.5.2</b> 二連續 + 一類別</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="dataviz.html"><a href="dataviz.html#分組繪圖"><i class="fa fa-check"></i><b>5.6</b> 分組繪圖</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html"><i class="fa fa-check"></i><b>6</b> 基本函式</a>
<ul>
<li class="chapter" data-level="6.1" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#函式語法"><i class="fa fa-check"></i><b>6.1</b> 函式語法</a></li>
<li class="chapter" data-level="6.2" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#檢視的函式原始碼定義"><i class="fa fa-check"></i><b>6.2</b> 檢視的函式原始碼定義</a></li>
<li class="chapter" data-level="6.3" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#數列函式"><i class="fa fa-check"></i><b>6.3</b> 數列函式</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#數列函式-seq-與-sequence"><i class="fa fa-check"></i><b>6.3.1</b> 數列函式: seq() 與 sequence()</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#重複元素函式-rep"><i class="fa fa-check"></i><b>6.4</b> 重複元素函式: rep()</a></li>
<li class="chapter" data-level="6.5" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#算數函式-arithmetic-computing-function"><i class="fa fa-check"></i><b>6.5</b> 算數函式 Arithmetic Computing Function</a></li>
<li class="chapter" data-level="6.6" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#組合與階乘函式-choose-與-factorial"><i class="fa fa-check"></i><b>6.6</b> 組合與階乘函式: choose() 與 factorial()</a></li>
<li class="chapter" data-level="6.7" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#選擇資料函式-all-any-which"><i class="fa fa-check"></i><b>6.7</b> 選擇資料函式: all(), any(), which()</a></li>
<li class="chapter" data-level="6.8" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#排序函式-ranking-and-sorting"><i class="fa fa-check"></i><b>6.8</b> 排序函式 Ranking and Sorting</a></li>
<li class="chapter" data-level="6.9" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#物件查看與強制轉換函式"><i class="fa fa-check"></i><b>6.9</b> 物件查看與強制轉換函式</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="basicstat.html"><a href="basicstat.html"><i class="fa fa-check"></i><b>7</b> 基本統計函式</a>
<ul>
<li class="chapter" data-level="7.1" data-path="basicstat.html"><a href="basicstat.html#敘述統計函式"><i class="fa fa-check"></i><b>7.1</b> 敘述統計函式</a></li>
<li class="chapter" data-level="7.2" data-path="basicstat.html"><a href="basicstat.html#類別資料表格函數"><i class="fa fa-check"></i><b>7.2</b> 類別資料表格函數</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="basicstat.html"><a href="basicstat.html#列聯表函式-table-xtabs"><i class="fa fa-check"></i><b>7.2.1</b> 列聯表函式: table(), xtabs()</a></li>
<li class="chapter" data-level="7.2.2" data-path="basicstat.html"><a href="basicstat.html#列聯表函式-ftable"><i class="fa fa-check"></i><b>7.2.2</b> 列聯表函式: ftable()</a></li>
<li class="chapter" data-level="7.2.3" data-path="basicstat.html"><a href="basicstat.html#列聯表函式-margin.table-prop.table"><i class="fa fa-check"></i><b>7.2.3</b> 列聯表函式: margin.table(), prop.table()</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="basicstat.html"><a href="basicstat.html#機率函式與亂數生成函式"><i class="fa fa-check"></i><b>7.3</b> 機率函式與亂數生成函式</a></li>
<li class="chapter" data-level="7.4" data-path="basicstat.html"><a href="basicstat.html#隨機抽樣函式-sample"><i class="fa fa-check"></i><b>7.4</b> 隨機抽樣函式 sample()</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="basictidy.html"><a href="basictidy.html"><i class="fa fa-check"></i><b>8</b> 資料基本處理</a>
<ul>
<li class="chapter" data-level="8.1" data-path="basictidy.html"><a href="basictidy.html#資料輸入套件-readr"><i class="fa fa-check"></i><b>8.1</b> 資料輸入套件 readr</a></li>
<li class="chapter" data-level="8.2" data-path="basictidy.html"><a href="basictidy.html#整潔資料-tidy-data"><i class="fa fa-check"></i><b>8.2</b> 整潔資料 Tidy Data</a></li>
<li class="chapter" data-level="8.3" data-path="basictidy.html"><a href="basictidy.html#tibble-與-data-frame"><i class="fa fa-check"></i><b>8.3</b> Tibble 與 Data Frame</a></li>
<li class="chapter" data-level="8.4" data-path="basictidy.html"><a href="basictidy.html#資料流動管道運算指令-pipe"><i class="fa fa-check"></i><b>8.4</b> 資料流動管道運算指令 Pipe</a></li>
<li class="chapter" data-level="8.5" data-path="basictidy.html"><a href="basictidy.html#資料檢視函式-glimpse"><i class="fa fa-check"></i><b>8.5</b> 資料檢視函式 glimpse()</a></li>
<li class="chapter" data-level="8.6" data-path="basictidy.html"><a href="basictidy.html#資料處裡-dplyr-套件"><i class="fa fa-check"></i><b>8.6</b> 資料處裡 dplyr 套件</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="basictidy.html"><a href="basictidy.html#選擇個體函式-filter"><i class="fa fa-check"></i><b>8.6.1</b> 選擇個體函式 <code>filter()</code></a></li>
<li class="chapter" data-level="8.6.2" data-path="basictidy.html"><a href="basictidy.html#依據變數值排序函式-arrange"><i class="fa fa-check"></i><b>8.6.2</b> 依據變數值排序函式 <code>arrange()</code></a></li>
<li class="chapter" data-level="8.6.3" data-path="basictidy.html"><a href="basictidy.html#選擇變數或欄位子集函式-select"><i class="fa fa-check"></i><b>8.6.3</b> 選擇變數或欄位子集函式 <code>select()</code></a></li>
<li class="chapter" data-level="8.6.4" data-path="basictidy.html"><a href="basictidy.html#變數轉換函式-mutate"><i class="fa fa-check"></i><b>8.6.4</b> 變數轉換函式 <code>mutate()</code></a></li>
<li class="chapter" data-level="8.6.5" data-path="basictidy.html"><a href="basictidy.html#隨機抽樣函式-sample_n-與-sample_frac"><i class="fa fa-check"></i><b>8.6.5</b> 隨機抽樣函式 <code>sample_n()</code> 與 <code>sample_frac()</code></a></li>
<li class="chapter" data-level="8.6.6" data-path="basictidy.html"><a href="basictidy.html#選出明顯不同個體函式-distinct-與-n_distinct"><i class="fa fa-check"></i><b>8.6.6</b> 選出明顯不同個體函式 <code>distinct()</code> 與 <code>n_distinct()</code></a></li>
<li class="chapter" data-level="8.6.7" data-path="basictidy.html"><a href="basictidy.html#利用橫列指標選出個體函式-slice"><i class="fa fa-check"></i><b>8.6.7</b> 利用橫列指標選出個體函式 <code>slice()</code></a></li>
<li class="chapter" data-level="8.6.8" data-path="basictidy.html"><a href="basictidy.html#計算常見統計量函式-summarise"><i class="fa fa-check"></i><b>8.6.8</b> 計算常見統計量函式 <code>summarise()</code></a></li>
<li class="chapter" data-level="8.6.9" data-path="basictidy.html"><a href="basictidy.html#資料分組操作函式-group_by"><i class="fa fa-check"></i><b>8.6.9</b> 資料分組操作函式 <code>group_by()</code></a></li>
<li class="chapter" data-level="8.6.10" data-path="basictidy.html"><a href="basictidy.html#多變數計算統計量函式-summarise_all"><i class="fa fa-check"></i><b>8.6.10</b> 多變數計算統計量函式 <code>summarise_all()</code></a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="basictidy.html"><a href="basictidy.html#資料聯集與交集函式"><i class="fa fa-check"></i><b>8.7</b> 資料聯集與交集函式</a></li>
<li class="chapter" data-level="8.8" data-path="basictidy.html"><a href="basictidy.html#資料合併函式"><i class="fa fa-check"></i><b>8.8</b> 資料合併函式</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="purrr.html"><a href="purrr.html"><i class="fa fa-check"></i><b>9</b> 資料迭代處理</a>
<ul>
<li class="chapter" data-level="9.1" data-path="purrr.html"><a href="purrr.html#對資料變數欄位-columns-進行相同操作"><i class="fa fa-check"></i><b>9.1</b> 對資料變數欄位 (columns) 進行相同操作</a></li>
<li class="chapter" data-level="9.2" data-path="purrr.html"><a href="purrr.html#對資料個體列位-rows-進行相同操作"><i class="fa fa-check"></i><b>9.2</b> 對資料個體列位 (rows) 進行相同操作</a></li>
<li class="chapter" data-level="9.3" data-path="purrr.html"><a href="purrr.html#依據條件進行變數轉換"><i class="fa fa-check"></i><b>9.3</b> 依據條件進行變數轉換</a></li>
<li class="chapter" data-level="9.4" data-path="purrr.html"><a href="purrr.html#r-資料物件操作函式-apply"><i class="fa fa-check"></i><b>9.4</b> {R} 資料物件操作函式: apply()</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="stringr.html"><a href="stringr.html"><i class="fa fa-check"></i><b>10</b> 文字與字串資料處理</a>
<ul>
<li class="chapter" data-level="10.1" data-path="stringr.html"><a href="stringr.html#文字與字串資料基礎"><i class="fa fa-check"></i><b>10.1</b> 文字與字串資料基礎</a></li>
<li class="chapter" data-level="10.2" data-path="stringr.html"><a href="stringr.html#套件-stringr"><i class="fa fa-check"></i><b>10.2</b> 套件 stringr</a></li>
<li class="chapter" data-level="10.3" data-path="stringr.html"><a href="stringr.html#合併文字或字串-str_c"><i class="fa fa-check"></i><b>10.3</b> 合併文字或字串 str_c()</a></li>
<li class="chapter" data-level="10.4" data-path="stringr.html"><a href="stringr.html#取出文字或字串向量中的部分元素-str_sub"><i class="fa fa-check"></i><b>10.4</b> 取出文字或字串向量中的部分元素 str_sub()</a></li>
<li class="chapter" data-level="10.5" data-path="stringr.html"><a href="stringr.html#語言設定地區與文字大小寫排序"><i class="fa fa-check"></i><b>10.5</b> 語言設定地區與文字大小寫排序</a></li>
<li class="chapter" data-level="10.6" data-path="stringr.html"><a href="stringr.html#移除空白-加入空白-截斷文字-str_trim-與-str_pad"><i class="fa fa-check"></i><b>10.6</b> 移除空白, 加入空白, 截斷文字 <code>str_trim()</code> 與 <code>str_pad()</code></a></li>
<li class="chapter" data-level="10.7" data-path="stringr.html"><a href="stringr.html#尋找特定形式文字或字串"><i class="fa fa-check"></i><b>10.7</b> 尋找特定形式文字或字串</a>
<ul>
<li class="chapter" data-level="10.7.1" data-path="stringr.html"><a href="stringr.html#偵測函式-str_detect"><i class="fa fa-check"></i><b>10.7.1</b> 偵測函式 <code>str_detect()</code></a></li>
<li class="chapter" data-level="10.7.2" data-path="stringr.html"><a href="stringr.html#確認位置函式-str_detect"><i class="fa fa-check"></i><b>10.7.2</b> 確認位置函式 <code>str_detect()</code></a></li>
<li class="chapter" data-level="10.7.3" data-path="stringr.html"><a href="stringr.html#確認索引函式-str_subset-與-str_which"><i class="fa fa-check"></i><b>10.7.3</b> 確認索引函式 <code>str_subset()</code> 與 <code>str_which()</code></a></li>
<li class="chapter" data-level="10.7.4" data-path="stringr.html"><a href="stringr.html#取出函式-str_extract"><i class="fa fa-check"></i><b>10.7.4</b> 取出函式 <code>str_extract()</code></a></li>
<li class="chapter" data-level="10.7.5" data-path="stringr.html"><a href="stringr.html#配對函式-str_match"><i class="fa fa-check"></i><b>10.7.5</b> 配對函式 <code>str_match()</code></a></li>
<li class="chapter" data-level="10.7.6" data-path="stringr.html"><a href="stringr.html#替代置換函式-str_replace"><i class="fa fa-check"></i><b>10.7.6</b> 替代置換函式 <code>str_replace()</code></a></li>
<li class="chapter" data-level="10.7.7" data-path="stringr.html"><a href="stringr.html#分割函式-str_split"><i class="fa fa-check"></i><b>10.7.7</b> 分割函式 <code>str_split()</code></a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="stringr.html"><a href="stringr.html#群組尋找特定形式的文字與字串"><i class="fa fa-check"></i><b>10.8</b> 群組尋找特定形式的文字與字串</a></li>
<li class="chapter" data-level="10.9" data-path="stringr.html"><a href="stringr.html#尋找連續重覆特定形式的文字與字串"><i class="fa fa-check"></i><b>10.9</b> 尋找連續重覆特定形式的文字與字串</a></li>
<li class="chapter" data-level="10.10" data-path="stringr.html"><a href="stringr.html#正規表示文字與字串-萬用字元"><i class="fa fa-check"></i><b>10.10</b> 正規表示文字與字串 (萬用字元)</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="forcats.html"><a href="forcats.html"><i class="fa fa-check"></i><b>11</b> 因子資料處理</a>
<ul>
<li class="chapter" data-level="11.1" data-path="forcats.html"><a href="forcats.html#forcats-套件-基本函式"><i class="fa fa-check"></i><b>11.1</b> forcats 套件: 基本函式</a></li>
<li class="chapter" data-level="11.2" data-path="forcats.html"><a href="forcats.html#移除或增加部分類別水準"><i class="fa fa-check"></i><b>11.2</b> 移除或增加部分類別水準</a></li>
<li class="chapter" data-level="11.3" data-path="forcats.html"><a href="forcats.html#改變類別水準函式"><i class="fa fa-check"></i><b>11.3</b> 改變類別水準函式</a></li>
<li class="chapter" data-level="11.4" data-path="forcats.html"><a href="forcats.html#改變或合併類別水準函式-fct_lump"><i class="fa fa-check"></i><b>11.4</b> 改變或合併類別水準函式 fct_lump()</a></li>
<li class="chapter" data-level="11.5" data-path="forcats.html"><a href="forcats.html#類別水準的頻率排序函式-fct_infreq"><i class="fa fa-check"></i><b>11.5</b> 類別水準的頻率排序函式 fct_infreq()</a></li>
<li class="chapter" data-level="11.6" data-path="forcats.html"><a href="forcats.html#依照其他變數將類別重新排序函式-fct_reorder"><i class="fa fa-check"></i><b>11.6</b> 依照其他變數將類別重新排序函式 fct_reorder()</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="lubridate.html"><a href="lubridate.html"><i class="fa fa-check"></i><b>12</b> 日期時間處理</a>
<ul>
<li class="chapter" data-level="12.1" data-path="lubridate.html"><a href="lubridate.html#lubridate-套件的日期時間"><i class="fa fa-check"></i><b>12.1</b> lubridate 套件的日期時間</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="lubridate.html"><a href="lubridate.html#從文字或字串轉換創件日期時間物件"><i class="fa fa-check"></i><b>12.1.1</b> 從文字或字串轉換創件日期時間物件</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="lubridate.html"><a href="lubridate.html#從date-time-資料個別成分-創件日期時間物件."><i class="fa fa-check"></i><b>12.2</b> 從date-time 資料個別成分, 創件日期時間物件.</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="lubridate.html"><a href="lubridate.html#從已經建立的其他資料物件創件日期時間物件"><i class="fa fa-check"></i><b>12.2.1</b> 從已經建立的其他資料物件創件日期時間物件</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="lubridate.html"><a href="lubridate.html#時區轉換"><i class="fa fa-check"></i><b>12.3</b> 時區轉換</a></li>
<li class="chapter" data-level="12.4" data-path="lubridate.html"><a href="lubridate.html#取出-date-time-資料的個別成分"><i class="fa fa-check"></i><b>12.4</b> 取出 date-time 資料的個別成分</a></li>
<li class="chapter" data-level="12.5" data-path="lubridate.html"><a href="lubridate.html#計算時間長度"><i class="fa fa-check"></i><b>12.5</b> 計算時間長度</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="lubridate.html"><a href="lubridate.html#duration-創建以秒計算的時間長度的物件"><i class="fa fa-check"></i><b>12.5.1</b> <code>duration</code> 創建以秒計算的時間長度的物件</a></li>
<li class="chapter" data-level="12.5.2" data-path="lubridate.html"><a href="lubridate.html#period-創建以人類文明的時間單位計算時間長度"><i class="fa fa-check"></i><b>12.5.2</b> <code>period</code> 創建以人類文明的時間單位計算時間長度</a></li>
<li class="chapter" data-level="12.5.3" data-path="lubridate.html"><a href="lubridate.html#interval-計算二個-date-time-物件之間的時間長度."><i class="fa fa-check"></i><b>12.5.3</b> <code>interval</code> 計算二個 date-time 物件之間的時間長度.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="StatIntro.html"><a href="StatIntro.html"><i class="fa fa-check"></i><b>13</b> 統計與醫學</a>
<ul>
<li class="chapter" data-level="13.1" data-path="StatIntro.html"><a href="StatIntro.html#醫學統計"><i class="fa fa-check"></i><b>13.1</b> 醫學統計</a></li>
<li class="chapter" data-level="13.2" data-path="StatIntro.html"><a href="StatIntro.html#統計與數學"><i class="fa fa-check"></i><b>13.2</b> 統計與數學</a></li>
<li class="chapter" data-level="13.3" data-path="StatIntro.html"><a href="StatIntro.html#醫學研究資料"><i class="fa fa-check"></i><b>13.3</b> 醫學研究資料</a></li>
<li class="chapter" data-level="13.4" data-path="StatIntro.html"><a href="StatIntro.html#統計計算與統計軟體"><i class="fa fa-check"></i><b>13.4</b> 統計計算與統計軟體</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>14</b> Applications</a>
<ul>
<li class="chapter" data-level="14.1" data-path="applications.html"><a href="applications.html#example-one"><i class="fa fa-check"></i><b>14.1</b> Example one</a></li>
<li class="chapter" data-level="14.2" data-path="applications.html"><a href="applications.html#example-two"><i class="fa fa-check"></i><b>14.2</b> Example two</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>15</b> Final Words</a></li>
<li class="chapter" data-level="16" data-path="temp.html"><a href="temp.html"><i class="fa fa-check"></i><b>16</b> Temp</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R 資料科學與統計</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lubridate" class="section level1" number="12">
<h1><span class="header-section-number">Chapter 12</span> 日期時間處理</h1>
<p>日期時間在醫學研究中, 是一個非常重要的變數,
然而對於日期時間的儲存, 列印與計算, 每一個軟體各不相同的處理方法.
原則上, 軟體對於日期時間的輸入通常是以文字型式輸入
<strong>日歷時間<code>(**calendar date and time</code>),
例如,
<code>"12/10/1979"</code>,
<code>"12/10/1979 20:30:10"</code>,
<code>"2/28/1947"</code>,
<code>"2-28-1947"</code>,
<code>022847</code>, <code>2Feb47</code>,
<code>"Feburary 2 1947"</code>
等,
{R} 讀入文字型式的日歷時間,
轉換成 {R} 的
<code>**日期時間類別物件` (**date-time class object`). {R} 的</code></strong>日期類別物件<code>'' (**dates class object</code>).
{R} 有不同日期時間類別格式存在,
非別為
<code>Date</code>,
以及 <code>Date-Time</code> 類別,
而 <code>Time</code> 包含
<code>POSIXlt</code>
與
<code>POSIXct</code>
等 2 時間類別.
<code>Date</code> 類別 僅考慮以天數計算,
<code>Date-Time</code> 類別
考慮以總秒數計算,
{R} 以 January 1, 1970 為 第 0 天.</p>
<p>使用日期函式
<code>as.Date()</code>
可以將文字型式的日歷日期 (calendar date)
轉換成 {R} 的
<strong>日期類別<code>(**Dates class</code>)
物件.
使用日期函式
<code>strptime()</code>
可以將文字型式的日歷時間轉換成 {R} 的
<code>日期-時間類別物件''; 使用日期函式 `as.POSIXlt()` 與 `as.POSIXct()` 可以將</code>日期-時間類別物件’’ 分別轉換成
</strong>POSIXlt, POSIXct<code>類別格式. 使用日期函式</code>format()<code>可以將 {R} 的 ``日期-時間類別物件'' 轉換成一般人可讀的文字型式的日期, 日, 星期, 月, 與時間.</code>POSIXct<code>: 非常大的正整數, 通常儲存在</code>data.frame<code>中使用,</code>POSIXlt<code>: 是一個列表物件 (list), 分別儲存 星期中的第幾天, 一年中的第幾天, 月份, 月中的第幾天等等. {R} 的日期時間的內設有些複雜, 因此 {R} 有些專門日期時間套件, 例如</code>tidyverse<code>套件系統提供</code>lubridate<code>套件, 或更完整的財務金融</code>Rmetrics` 套件,
這些套件可以在處裡時間上變得較為方便.</p>
<div id="lubridate-套件的日期時間" class="section level2" number="12.1">
<h2><span class="header-section-number">12.1</span> lubridate 套件的日期時間</h2>
<p><code>lubridate</code> 套件內日期時間資料,
在<code>tidyverse</code> 套件系統的 <code>tibble</code> 物件呈現 3 種類型.</p>
<ul>
<li><p><code>date</code> <code>tibble</code> 列印日期成 <code>&lt;date&gt;</code>.</p></li>
<li><p><code>time</code> <code>tibble</code> 列印時間成 <code>&lt;time&gt;</code>.</p></li>
<li><p><code>date-time</code> 資料同時包含日期時間 <code>tibble</code> 列印日期成 <code>&lt;dttm&gt;</code>.
這是 {R} 的 <code>POSIXct</code> 物件.</p></li>
</ul>
<p>使用 <code>lubridate</code> 套件的函式 <code>today()</code> 或 <code>now()</code> 取得今日的日期時間.
{R} base 函式 <code>Sys.time()</code> 取得今日的日期時間之絕對數值為 <code>POSIXct</code> 物件, 可依照時區進行轉喚.
而函式 <code>Sys.Date()</code> 則依照電腦使用時區傳回 <code>Date</code> 物件.</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="lubridate.html#cb233-1" aria-hidden="true"></a>op &lt;-<span class="st"> </span><span class="kw">options</span>(<span class="dt">digits.secs =</span> <span class="dv">6</span>)</span>
<span id="cb233-2"><a href="lubridate.html#cb233-2" aria-hidden="true"></a><span class="kw">Sys.time</span>()</span>
<span id="cb233-3"><a href="lubridate.html#cb233-3" aria-hidden="true"></a><span class="co">## [1] &quot;2020-10-17 15:41:17.081562 CST&quot;</span></span>
<span id="cb233-4"><a href="lubridate.html#cb233-4" aria-hidden="true"></a><span class="kw">Sys.Date</span>()</span>
<span id="cb233-5"><a href="lubridate.html#cb233-5" aria-hidden="true"></a><span class="co">## [1] &quot;2020-10-17&quot;</span></span>
<span id="cb233-6"><a href="lubridate.html#cb233-6" aria-hidden="true"></a><span class="kw">class</span>(<span class="kw">Sys.time</span>())</span>
<span id="cb233-7"><a href="lubridate.html#cb233-7" aria-hidden="true"></a><span class="co">## [1] &quot;POSIXct&quot; &quot;POSIXt&quot;</span></span>
<span id="cb233-8"><a href="lubridate.html#cb233-8" aria-hidden="true"></a><span class="kw">class</span>(<span class="kw">Sys.Date</span>())</span>
<span id="cb233-9"><a href="lubridate.html#cb233-9" aria-hidden="true"></a><span class="co">## [1] &quot;Date&quot;</span></span>
<span id="cb233-10"><a href="lubridate.html#cb233-10" aria-hidden="true"></a><span class="co">## locale-specific version of date()</span></span>
<span id="cb233-11"><a href="lubridate.html#cb233-11" aria-hidden="true"></a><span class="kw">format</span>(<span class="kw">Sys.time</span>(), <span class="st">&quot;%a %b %d %X %Y&quot;</span>)</span>
<span id="cb233-12"><a href="lubridate.html#cb233-12" aria-hidden="true"></a><span class="co">## [1] &quot;週六 十月 17 下午 03:41:17 2020&quot;</span></span>
<span id="cb233-13"><a href="lubridate.html#cb233-13" aria-hidden="true"></a><span class="kw">Sys.Date</span>()</span>
<span id="cb233-14"><a href="lubridate.html#cb233-14" aria-hidden="true"></a><span class="co">## [1] &quot;2020-10-17&quot;</span></span>
<span id="cb233-15"><a href="lubridate.html#cb233-15" aria-hidden="true"></a><span class="co">## lubriate package</span></span>
<span id="cb233-16"><a href="lubridate.html#cb233-16" aria-hidden="true"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb233-17"><a href="lubridate.html#cb233-17" aria-hidden="true"></a><span class="kw">library</span>(lubridate)</span>
<span id="cb233-18"><a href="lubridate.html#cb233-18" aria-hidden="true"></a><span class="kw">today</span>()</span>
<span id="cb233-19"><a href="lubridate.html#cb233-19" aria-hidden="true"></a><span class="co">## [1] &quot;2020-10-17&quot;</span></span>
<span id="cb233-20"><a href="lubridate.html#cb233-20" aria-hidden="true"></a><span class="kw">now</span>()</span>
<span id="cb233-21"><a href="lubridate.html#cb233-21" aria-hidden="true"></a><span class="co">## [1] &quot;2020-10-17 15:41:17.357578 CST&quot;</span></span>
<span id="cb233-22"><a href="lubridate.html#cb233-22" aria-hidden="true"></a><span class="kw">class</span>(<span class="kw">today</span>())</span>
<span id="cb233-23"><a href="lubridate.html#cb233-23" aria-hidden="true"></a><span class="co">## [1] &quot;Date&quot;</span></span>
<span id="cb233-24"><a href="lubridate.html#cb233-24" aria-hidden="true"></a><span class="kw">class</span>(<span class="kw">now</span>())</span>
<span id="cb233-25"><a href="lubridate.html#cb233-25" aria-hidden="true"></a><span class="co">## [1] &quot;POSIXct&quot; &quot;POSIXt&quot;</span></span></code></pre></div>
<p>不同程式語言系統的時間日期參照個不相同,
{R} 是以 UTC 時區 (Universal Time, Coordinated)
January 1, 1970, 0 時, UTC 0 分 0 秒 為 `<code>{0</code>’’ (origin),
UTC 以國際原子時為計算基準, 修正了一些時間微小的飄移,
而 UTC 與 GMT (格林威治標準時間) 相差不多.</p>
<p>有 3 種方法可以創件日期時間物件.</p>
<ul>
<li>從文字或字串轉換創件日期時間物件.</li>
<li>從個別 date-time 資料, 創件日期時間物件.</li>
<li>從已經建立的 date-time 物件或其他資料物件,
進行運算而創件日期時間物件.</li>
</ul>
<div id="從文字或字串轉換創件日期時間物件" class="section level3" number="12.1.1">
<h3><span class="header-section-number">12.1.1</span> 從文字或字串轉換創件日期時間物件</h3>
<p>只要文字輸入時, 依照適當的日期時間順序即可創件日期時間物件.
也可加入時區.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="lubridate.html#cb234-1" aria-hidden="true"></a><span class="kw">ymd</span>(..., <span class="dt">quiet =</span> <span class="ot">FALSE</span>, <span class="dt">tz =</span> <span class="ot">NULL</span>, </span>
<span id="cb234-2"><a href="lubridate.html#cb234-2" aria-hidden="true"></a>    <span class="dt">locale =</span> <span class="kw">Sys.getlocale</span>(<span class="st">&quot;LC_TIME&quot;</span>), <span class="dt">truncated =</span> <span class="dv">0</span></span>
<span id="cb234-3"><a href="lubridate.html#cb234-3" aria-hidden="true"></a>)</span></code></pre></div>
<p>其中引數 <code>tz</code> 為時區識別, <code>locale</code> 為地區識別.</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="lubridate.html#cb235-1" aria-hidden="true"></a><span class="co">## strings -&gt; date-time </span></span>
<span id="cb235-2"><a href="lubridate.html#cb235-2" aria-hidden="true"></a><span class="co">## date</span></span>
<span id="cb235-3"><a href="lubridate.html#cb235-3" aria-hidden="true"></a><span class="kw">library</span>(lubridate)</span>
<span id="cb235-4"><a href="lubridate.html#cb235-4" aria-hidden="true"></a><span class="kw">ymd</span>(<span class="st">&quot;2017-01-31&quot;</span>)</span>
<span id="cb235-5"><a href="lubridate.html#cb235-5" aria-hidden="true"></a><span class="co">## [1] &quot;2017-01-31&quot;</span></span>
<span id="cb235-6"><a href="lubridate.html#cb235-6" aria-hidden="true"></a><span class="kw">mdy</span>(<span class="st">&quot;January 31st, 2017&quot;</span>)</span>
<span id="cb235-7"><a href="lubridate.html#cb235-7" aria-hidden="true"></a><span class="co">## [1] &quot;2017-01-31&quot;</span></span>
<span id="cb235-8"><a href="lubridate.html#cb235-8" aria-hidden="true"></a><span class="kw">dmy</span>(<span class="st">&quot;31-Jan-2017&quot;</span>)</span>
<span id="cb235-9"><a href="lubridate.html#cb235-9" aria-hidden="true"></a><span class="co">## [1] &quot;2017-01-31&quot;</span></span>
<span id="cb235-10"><a href="lubridate.html#cb235-10" aria-hidden="true"></a><span class="co">## date and time</span></span>
<span id="cb235-11"><a href="lubridate.html#cb235-11" aria-hidden="true"></a><span class="kw">ymd_hms</span>(<span class="st">&quot;2017-01-31 20:11:59&quot;</span>)</span>
<span id="cb235-12"><a href="lubridate.html#cb235-12" aria-hidden="true"></a><span class="co">## [1] &quot;2017-01-31 20:11:59 UTC&quot;</span></span>
<span id="cb235-13"><a href="lubridate.html#cb235-13" aria-hidden="true"></a><span class="kw">mdy_hm</span>(<span class="st">&quot;01/31/2017 08:01&quot;</span>)</span>
<span id="cb235-14"><a href="lubridate.html#cb235-14" aria-hidden="true"></a><span class="co">## [1] &quot;2017-01-31 08:01:00 UTC&quot;</span></span>
<span id="cb235-15"><a href="lubridate.html#cb235-15" aria-hidden="true"></a><span class="co">## without quotation</span></span>
<span id="cb235-16"><a href="lubridate.html#cb235-16" aria-hidden="true"></a><span class="kw">ymd</span>(<span class="dv">20170131</span>)</span>
<span id="cb235-17"><a href="lubridate.html#cb235-17" aria-hidden="true"></a><span class="co">## [1] &quot;2017-01-31&quot;</span></span>
<span id="cb235-18"><a href="lubridate.html#cb235-18" aria-hidden="true"></a><span class="co">## add time-zone</span></span>
<span id="cb235-19"><a href="lubridate.html#cb235-19" aria-hidden="true"></a><span class="kw">ymd</span>(<span class="dv">20170131</span>, <span class="dt">tz =</span> <span class="st">&quot;UTC&quot;</span>)</span>
<span id="cb235-20"><a href="lubridate.html#cb235-20" aria-hidden="true"></a><span class="co">## [1] &quot;2017-01-31 UTC&quot;</span></span>
<span id="cb235-21"><a href="lubridate.html#cb235-21" aria-hidden="true"></a><span class="co">##</span></span>
<span id="cb235-22"><a href="lubridate.html#cb235-22" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;09-01-01&quot;</span>, <span class="st">&quot;09-01-02&quot;</span>, <span class="st">&quot;09-01-03&quot;</span>)</span>
<span id="cb235-23"><a href="lubridate.html#cb235-23" aria-hidden="true"></a><span class="kw">ymd</span>(x)</span>
<span id="cb235-24"><a href="lubridate.html#cb235-24" aria-hidden="true"></a><span class="co">## [1] &quot;2009-01-01&quot; &quot;2009-01-02&quot; &quot;2009-01-03&quot;</span></span>
<span id="cb235-25"><a href="lubridate.html#cb235-25" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;2009-01-01&quot;</span>, <span class="st">&quot;2009-01-02&quot;</span>, <span class="st">&quot;2009-01-03&quot;</span>)</span>
<span id="cb235-26"><a href="lubridate.html#cb235-26" aria-hidden="true"></a><span class="kw">ymd</span>(x)</span>
<span id="cb235-27"><a href="lubridate.html#cb235-27" aria-hidden="true"></a><span class="co">## [1] &quot;2009-01-01&quot; &quot;2009-01-02&quot; &quot;2009-01-03&quot;</span></span>
<span id="cb235-28"><a href="lubridate.html#cb235-28" aria-hidden="true"></a><span class="kw">ymd</span>(<span class="dv">090101</span>, <span class="dv">90102</span>)</span>
<span id="cb235-29"><a href="lubridate.html#cb235-29" aria-hidden="true"></a><span class="co">## [1] &quot;2009-01-01&quot; &quot;2009-01-02&quot;</span></span>
<span id="cb235-30"><a href="lubridate.html#cb235-30" aria-hidden="true"></a><span class="kw">now</span>() <span class="op">&gt;</span><span class="st"> </span><span class="kw">ymd</span>(<span class="dv">20090101</span>)</span>
<span id="cb235-31"><a href="lubridate.html#cb235-31" aria-hidden="true"></a><span class="co">## [1] TRUE</span></span>
<span id="cb235-32"><a href="lubridate.html#cb235-32" aria-hidden="true"></a><span class="kw">dmy</span>(<span class="dv">010210</span>)</span>
<span id="cb235-33"><a href="lubridate.html#cb235-33" aria-hidden="true"></a><span class="co">## [1] &quot;2010-02-01&quot;</span></span>
<span id="cb235-34"><a href="lubridate.html#cb235-34" aria-hidden="true"></a><span class="kw">mdy</span>(<span class="dv">010210</span>)</span>
<span id="cb235-35"><a href="lubridate.html#cb235-35" aria-hidden="true"></a><span class="co">## [1] &quot;2010-01-02&quot;</span></span>
<span id="cb235-36"><a href="lubridate.html#cb235-36" aria-hidden="true"></a><span class="kw">yq</span>(<span class="st">&#39;2014.2&#39;</span>)</span>
<span id="cb235-37"><a href="lubridate.html#cb235-37" aria-hidden="true"></a><span class="co">## [1] &quot;2014-04-01&quot;</span></span>
<span id="cb235-38"><a href="lubridate.html#cb235-38" aria-hidden="true"></a><span class="co">##</span></span>
<span id="cb235-39"><a href="lubridate.html#cb235-39" aria-hidden="true"></a><span class="co">## heterogeneous formats in a single vector:</span></span>
<span id="cb235-40"><a href="lubridate.html#cb235-40" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">20090101</span>, <span class="st">&quot;2009-01-02&quot;</span>, <span class="st">&quot;2009 01 03&quot;</span>, <span class="st">&quot;2009-1-4&quot;</span>,</span>
<span id="cb235-41"><a href="lubridate.html#cb235-41" aria-hidden="true"></a>       <span class="st">&quot;2009-1, 5&quot;</span>, <span class="st">&quot;Created on 2009 1 6&quot;</span>, <span class="st">&quot;200901 !!! 07&quot;</span>)</span>
<span id="cb235-42"><a href="lubridate.html#cb235-42" aria-hidden="true"></a><span class="kw">ymd</span>(x)</span>
<span id="cb235-43"><a href="lubridate.html#cb235-43" aria-hidden="true"></a><span class="co">## [1] &quot;2009-01-01&quot; &quot;2009-01-02&quot; &quot;2009-01-03&quot; &quot;2009-01-04&quot; &quot;2009-01-05&quot; &quot;2009-01-06&quot;</span></span>
<span id="cb235-44"><a href="lubridate.html#cb235-44" aria-hidden="true"></a><span class="co">## [7] &quot;2009-01-07&quot;</span></span></code></pre></div>
</div>
</div>
<div id="從date-time-資料個別成分-創件日期時間物件." class="section level2" number="12.2">
<h2><span class="header-section-number">12.2</span> 從date-time 資料個別成分, 創件日期時間物件.</h2>
<p>許多資料在儲存時, 是將年, 月, 日, 時, 分, 秒 等分開以變數 (欄位) 儲存.
在資料分析時才創件成為日期時間物件,
例如 {R} 的 <code>nycflights13</code> 套件的 <code>flights</code> 資料,
此資料是有關紐約機場班機起降時間記錄.
可使用函式 <code>make_datetime()</code> 創件日期時間物件.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="lubridate.html#cb236-1" aria-hidden="true"></a><span class="co">## nycflights13 package</span></span>
<span id="cb236-2"><a href="lubridate.html#cb236-2" aria-hidden="true"></a><span class="kw">library</span>(nycflights13)</span>
<span id="cb236-3"><a href="lubridate.html#cb236-3" aria-hidden="true"></a><span class="co">## store as separate variables</span></span>
<span id="cb236-4"><a href="lubridate.html#cb236-4" aria-hidden="true"></a>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb236-5"><a href="lubridate.html#cb236-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">select</span>(year, month, day, hour, minute)</span>
<span id="cb236-6"><a href="lubridate.html#cb236-6" aria-hidden="true"></a><span class="co">## # A tibble: 336,776 x 5</span></span>
<span id="cb236-7"><a href="lubridate.html#cb236-7" aria-hidden="true"></a><span class="co">##     year month   day  hour minute</span></span>
<span id="cb236-8"><a href="lubridate.html#cb236-8" aria-hidden="true"></a><span class="co">##    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;</span></span>
<span id="cb236-9"><a href="lubridate.html#cb236-9" aria-hidden="true"></a><span class="co">##  1  2013     1     1     5     15</span></span>
<span id="cb236-10"><a href="lubridate.html#cb236-10" aria-hidden="true"></a><span class="co">##  2  2013     1     1     5     29</span></span>
<span id="cb236-11"><a href="lubridate.html#cb236-11" aria-hidden="true"></a><span class="co">##  3  2013     1     1     5     40</span></span>
<span id="cb236-12"><a href="lubridate.html#cb236-12" aria-hidden="true"></a><span class="co">##  4  2013     1     1     5     45</span></span>
<span id="cb236-13"><a href="lubridate.html#cb236-13" aria-hidden="true"></a><span class="co">##  5  2013     1     1     6      0</span></span>
<span id="cb236-14"><a href="lubridate.html#cb236-14" aria-hidden="true"></a><span class="co">##  6  2013     1     1     5     58</span></span>
<span id="cb236-15"><a href="lubridate.html#cb236-15" aria-hidden="true"></a><span class="co">##  7  2013     1     1     6      0</span></span>
<span id="cb236-16"><a href="lubridate.html#cb236-16" aria-hidden="true"></a><span class="co">##  8  2013     1     1     6      0</span></span>
<span id="cb236-17"><a href="lubridate.html#cb236-17" aria-hidden="true"></a><span class="co">##  9  2013     1     1     6      0</span></span>
<span id="cb236-18"><a href="lubridate.html#cb236-18" aria-hidden="true"></a><span class="co">## 10  2013     1     1     6      0</span></span>
<span id="cb236-19"><a href="lubridate.html#cb236-19" aria-hidden="true"></a><span class="co">## # ... with 336,766 more rows</span></span>
<span id="cb236-20"><a href="lubridate.html#cb236-20" aria-hidden="true"></a><span class="co">## create date-time</span></span>
<span id="cb236-21"><a href="lubridate.html#cb236-21" aria-hidden="true"></a>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb236-22"><a href="lubridate.html#cb236-22" aria-hidden="true"></a><span class="st">  </span><span class="kw">select</span>(year, month, day, hour, minute) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb236-23"><a href="lubridate.html#cb236-23" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">departure =</span> <span class="kw">make_datetime</span>(year, month, day, hour, minute))</span>
<span id="cb236-24"><a href="lubridate.html#cb236-24" aria-hidden="true"></a><span class="co">## # A tibble: 336,776 x 6</span></span>
<span id="cb236-25"><a href="lubridate.html#cb236-25" aria-hidden="true"></a><span class="co">##     year month   day  hour minute departure                 </span></span>
<span id="cb236-26"><a href="lubridate.html#cb236-26" aria-hidden="true"></a><span class="co">##    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dttm&gt;                    </span></span>
<span id="cb236-27"><a href="lubridate.html#cb236-27" aria-hidden="true"></a><span class="co">##  1  2013     1     1     5     15 2013-01-01 05:15:00.000000</span></span>
<span id="cb236-28"><a href="lubridate.html#cb236-28" aria-hidden="true"></a><span class="co">##  2  2013     1     1     5     29 2013-01-01 05:29:00.000000</span></span>
<span id="cb236-29"><a href="lubridate.html#cb236-29" aria-hidden="true"></a><span class="co">##  3  2013     1     1     5     40 2013-01-01 05:40:00.000000</span></span>
<span id="cb236-30"><a href="lubridate.html#cb236-30" aria-hidden="true"></a><span class="co">##  4  2013     1     1     5     45 2013-01-01 05:45:00.000000</span></span>
<span id="cb236-31"><a href="lubridate.html#cb236-31" aria-hidden="true"></a><span class="co">##  5  2013     1     1     6      0 2013-01-01 06:00:00.000000</span></span>
<span id="cb236-32"><a href="lubridate.html#cb236-32" aria-hidden="true"></a><span class="co">##  6  2013     1     1     5     58 2013-01-01 05:58:00.000000</span></span>
<span id="cb236-33"><a href="lubridate.html#cb236-33" aria-hidden="true"></a><span class="co">##  7  2013     1     1     6      0 2013-01-01 06:00:00.000000</span></span>
<span id="cb236-34"><a href="lubridate.html#cb236-34" aria-hidden="true"></a><span class="co">##  8  2013     1     1     6      0 2013-01-01 06:00:00.000000</span></span>
<span id="cb236-35"><a href="lubridate.html#cb236-35" aria-hidden="true"></a><span class="co">##  9  2013     1     1     6      0 2013-01-01 06:00:00.000000</span></span>
<span id="cb236-36"><a href="lubridate.html#cb236-36" aria-hidden="true"></a><span class="co">## 10  2013     1     1     6      0 2013-01-01 06:00:00.000000</span></span>
<span id="cb236-37"><a href="lubridate.html#cb236-37" aria-hidden="true"></a><span class="co">## # ... with 336,766 more rows</span></span>
<span id="cb236-38"><a href="lubridate.html#cb236-38" aria-hidden="true"></a><span class="co">##</span></span></code></pre></div>
<div id="從已經建立的其他資料物件創件日期時間物件" class="section level3" number="12.2.1">
<h3><span class="header-section-number">12.2.1</span> 從已經建立的其他資料物件創件日期時間物件</h3>
<p>若資料以其他的物件形式儲存在 {R} 系統內,
常使用函式 <code>as_datetime()</code> 與 <code>as_date()</code> 創件日期時間物件.
若是以數值輸入, 可分成以秒為單位或以日為單位輸入.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="lubridate.html#cb237-1" aria-hidden="true"></a><span class="kw">as_datetime</span>(<span class="kw">today</span>())</span>
<span id="cb237-2"><a href="lubridate.html#cb237-2" aria-hidden="true"></a><span class="co">## [1] &quot;2020-10-17 UTC&quot;</span></span>
<span id="cb237-3"><a href="lubridate.html#cb237-3" aria-hidden="true"></a><span class="kw">as_date</span>(<span class="kw">now</span>())</span>
<span id="cb237-4"><a href="lubridate.html#cb237-4" aria-hidden="true"></a><span class="co">## [1] &quot;2020-10-17&quot;</span></span>
<span id="cb237-5"><a href="lubridate.html#cb237-5" aria-hidden="true"></a><span class="co">## import as numeric values</span></span>
<span id="cb237-6"><a href="lubridate.html#cb237-6" aria-hidden="true"></a><span class="co">## import as seconds from 1970-01-01 0:00:00</span></span>
<span id="cb237-7"><a href="lubridate.html#cb237-7" aria-hidden="true"></a><span class="kw">as_datetime</span>(<span class="dv">60</span> <span class="op">*</span><span class="st"> </span><span class="dv">60</span> <span class="op">*</span><span class="st"> </span><span class="dv">10</span>) </span>
<span id="cb237-8"><a href="lubridate.html#cb237-8" aria-hidden="true"></a><span class="co">## [1] &quot;1970-01-01 10:00:00 UTC&quot;</span></span>
<span id="cb237-9"><a href="lubridate.html#cb237-9" aria-hidden="true"></a><span class="co">## import days from 1970-01-01</span></span>
<span id="cb237-10"><a href="lubridate.html#cb237-10" aria-hidden="true"></a><span class="kw">as_date</span>(<span class="dv">365</span> <span class="op">*</span><span class="st"> </span><span class="dv">10</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span>) </span>
<span id="cb237-11"><a href="lubridate.html#cb237-11" aria-hidden="true"></a><span class="co">## [1] &quot;1980-01-01&quot;</span></span></code></pre></div>
</div>
</div>
<div id="時區轉換" class="section level2" number="12.3">
<h2><span class="header-section-number">12.3</span> 時區轉換</h2>
<p>時區的變動與轉換, 常互造成錯誤.
函式 <code>with_tz()</code> 可以進行正確時區轉換,
而函式 <code>force_tz()</code> 則強迫變動時區.
例如台北時區為 2011-07-01 09:00:00 <code>Asia/Taipei</code>,
轉換成美國 Hawaii時區為 <code>HST</code>.
時區可參考 (<a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones" class="uri">https://en.wikipedia.org/wiki/List_of_tz_database_time_zones</a>).</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="lubridate.html#cb238-1" aria-hidden="true"></a><span class="co">## change time zone</span></span>
<span id="cb238-2"><a href="lubridate.html#cb238-2" aria-hidden="true"></a>meeting &lt;-<span class="st"> </span><span class="kw">ymd_hms</span>(<span class="st">&quot;2020-10-10 09:00:00&quot;</span>, <span class="dt">tz =</span> <span class="st">&quot;Asia/Taipei&quot;</span>)</span>
<span id="cb238-3"><a href="lubridate.html#cb238-3" aria-hidden="true"></a><span class="kw">with_tz</span>(meeting, <span class="st">&quot;HST&quot;</span>)</span>
<span id="cb238-4"><a href="lubridate.html#cb238-4" aria-hidden="true"></a><span class="co">## [1] &quot;2020-10-09 15:00:00 HST&quot;</span></span>
<span id="cb238-5"><a href="lubridate.html#cb238-5" aria-hidden="true"></a><span class="co">## force change </span></span>
<span id="cb238-6"><a href="lubridate.html#cb238-6" aria-hidden="true"></a>mistake &lt;-<span class="st"> </span><span class="kw">force_tz</span>(meeting, <span class="st">&quot;America/Chicago&quot;</span>)</span>
<span id="cb238-7"><a href="lubridate.html#cb238-7" aria-hidden="true"></a>mistake</span>
<span id="cb238-8"><a href="lubridate.html#cb238-8" aria-hidden="true"></a><span class="co">## [1] &quot;2020-10-10 09:00:00 CDT&quot;</span></span>
<span id="cb238-9"><a href="lubridate.html#cb238-9" aria-hidden="true"></a><span class="kw">with_tz</span>(mistake, <span class="st">&quot;Asia/Taipei&quot;</span>) </span>
<span id="cb238-10"><a href="lubridate.html#cb238-10" aria-hidden="true"></a><span class="co">## [1] &quot;2020-10-10 22:00:00 CST&quot;</span></span></code></pre></div>
</div>
<div id="取出-date-time-資料的個別成分" class="section level2" number="12.4">
<h2><span class="header-section-number">12.4</span> 取出 date-time 資料的個別成分</h2>
<p>一個完整 date-time 物件, 其資料包含年, 月, 日, 時, 分, 秒, 時區等訊息.
若要取出 date-time 資料的個別成分,
可藉由函式
<code>year()</code>, <code>month()</code>, <code>mday()</code> (一個月內的天數 1–31),
<code>yday()</code> (一年內的天數 1–366),
<code>wday()</code> (一週內的天數 1–7),
<code>hour()</code>, <code>minute(),</code>second()<code>. 其中</code>month()<code>與</code>wday()<code>可使用引數</code>label = TRUE<code>回傳簡寫標註文字, 如 Jan, Mon. 而使用引數</code>bbr = FALSE` 回傳完整標註文字, 如 January, Monday.
這些函式也可用來更動 date-time 物件部分成分.</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="lubridate.html#cb239-1" aria-hidden="true"></a>datetime &lt;-<span class="st"> </span><span class="kw">ymd_hms</span>(<span class="st">&quot;2016-07-08 12:34:56&quot;</span>)</span>
<span id="cb239-2"><a href="lubridate.html#cb239-2" aria-hidden="true"></a><span class="kw">year</span>(datetime)</span>
<span id="cb239-3"><a href="lubridate.html#cb239-3" aria-hidden="true"></a><span class="co">## [1] 2016</span></span>
<span id="cb239-4"><a href="lubridate.html#cb239-4" aria-hidden="true"></a><span class="kw">month</span>(datetime)</span>
<span id="cb239-5"><a href="lubridate.html#cb239-5" aria-hidden="true"></a><span class="co">## [1] 7</span></span>
<span id="cb239-6"><a href="lubridate.html#cb239-6" aria-hidden="true"></a><span class="kw">mday</span>(datetime)</span>
<span id="cb239-7"><a href="lubridate.html#cb239-7" aria-hidden="true"></a><span class="co">## [1] 8</span></span>
<span id="cb239-8"><a href="lubridate.html#cb239-8" aria-hidden="true"></a><span class="kw">yday</span>(datetime)</span>
<span id="cb239-9"><a href="lubridate.html#cb239-9" aria-hidden="true"></a><span class="co">## [1] 190</span></span>
<span id="cb239-10"><a href="lubridate.html#cb239-10" aria-hidden="true"></a><span class="kw">wday</span>(datetime)</span>
<span id="cb239-11"><a href="lubridate.html#cb239-11" aria-hidden="true"></a><span class="co">## [1] 6</span></span>
<span id="cb239-12"><a href="lubridate.html#cb239-12" aria-hidden="true"></a><span class="co">## labels </span></span>
<span id="cb239-13"><a href="lubridate.html#cb239-13" aria-hidden="true"></a><span class="kw">month</span>(datetime, <span class="dt">label =</span> <span class="ot">TRUE</span>)</span>
<span id="cb239-14"><a href="lubridate.html#cb239-14" aria-hidden="true"></a><span class="co">## [1] 七月</span></span>
<span id="cb239-15"><a href="lubridate.html#cb239-15" aria-hidden="true"></a><span class="co">## 12 Levels: 一月 &lt; 二月 &lt; 三月 &lt; 四月 &lt; 五月 &lt; 六月 &lt; 七月 &lt; 八月 &lt; 九月 &lt; ... &lt; 十二月</span></span>
<span id="cb239-16"><a href="lubridate.html#cb239-16" aria-hidden="true"></a><span class="kw">wday</span>(datetime, <span class="dt">label =</span> <span class="ot">TRUE</span>, <span class="dt">abbr =</span> <span class="ot">FALSE</span>)</span>
<span id="cb239-17"><a href="lubridate.html#cb239-17" aria-hidden="true"></a><span class="co">## [1] 星期五</span></span>
<span id="cb239-18"><a href="lubridate.html#cb239-18" aria-hidden="true"></a><span class="co">## Levels: 星期日 &lt; 星期一 &lt; 星期二 &lt; 星期三 &lt; 星期四 &lt; 星期五 &lt; 星期六</span></span>
<span id="cb239-19"><a href="lubridate.html#cb239-19" aria-hidden="true"></a><span class="co">## change components</span></span>
<span id="cb239-20"><a href="lubridate.html#cb239-20" aria-hidden="true"></a>(datetime &lt;-<span class="st"> </span><span class="kw">ymd_hms</span>(<span class="st">&quot;2016-07-08 12:34:56&quot;</span>))</span>
<span id="cb239-21"><a href="lubridate.html#cb239-21" aria-hidden="true"></a><span class="co">## [1] &quot;2016-07-08 12:34:56 UTC&quot;</span></span>
<span id="cb239-22"><a href="lubridate.html#cb239-22" aria-hidden="true"></a><span class="kw">year</span>(datetime) &lt;-<span class="st"> </span><span class="dv">2020</span></span>
<span id="cb239-23"><a href="lubridate.html#cb239-23" aria-hidden="true"></a>datetime</span>
<span id="cb239-24"><a href="lubridate.html#cb239-24" aria-hidden="true"></a><span class="co">## [1] &quot;2020-07-08 12:34:56 UTC&quot;</span></span>
<span id="cb239-25"><a href="lubridate.html#cb239-25" aria-hidden="true"></a><span class="kw">month</span>(datetime) &lt;-<span class="st"> </span><span class="dv">01</span></span>
<span id="cb239-26"><a href="lubridate.html#cb239-26" aria-hidden="true"></a>datetime</span>
<span id="cb239-27"><a href="lubridate.html#cb239-27" aria-hidden="true"></a><span class="co">## [1] &quot;2020-01-08 12:34:56 UTC&quot;</span></span></code></pre></div>
<p>函式 <code>floor_date()</code>, <code>round_date()</code>, <code>ceiling_date()</code>
可將 date-time 物件簡化成最近的時間單位.</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="lubridate.html#cb240-1" aria-hidden="true"></a><span class="kw">round_date</span>(x, <span class="dt">unit =</span> <span class="st">&quot;second&quot;</span>, <span class="dt">week_start =</span> <span class="kw">getOption</span>(<span class="st">&quot;lubridate.week.start&quot;</span>, <span class="dv">7</span>))</span></code></pre></div>
<p>其中引數 <code>unit</code> 可為
<code>second</code>, <code>minute</code>, <code>hour</code>, <code>day</code>, <code>week</code>, <code>month</code>, <code>bimonth</code>,
<code>quarter</code>, <code>season</code>, <code>halfyear</code> <code>year</code>.
引數 <code>week_start</code> 為每週起始計算, 1 = Monday, 7 = Sunday.</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="lubridate.html#cb241-1" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">ymd_hms</span>(<span class="st">&quot;2009-08-03 12:01:59.23&quot;</span>)</span>
<span id="cb241-2"><a href="lubridate.html#cb241-2" aria-hidden="true"></a><span class="kw">floor_date</span>(x, <span class="st">&quot;.1s&quot;</span>)</span>
<span id="cb241-3"><a href="lubridate.html#cb241-3" aria-hidden="true"></a><span class="co">## [1] &quot;2009-08-03 12:01:59.2 UTC&quot;</span></span>
<span id="cb241-4"><a href="lubridate.html#cb241-4" aria-hidden="true"></a><span class="kw">floor_date</span>(x, <span class="st">&quot;second&quot;</span>)</span>
<span id="cb241-5"><a href="lubridate.html#cb241-5" aria-hidden="true"></a><span class="co">## [1] &quot;2009-08-03 12:01:59 UTC&quot;</span></span>
<span id="cb241-6"><a href="lubridate.html#cb241-6" aria-hidden="true"></a><span class="kw">floor_date</span>(x, <span class="st">&quot;minute&quot;</span>)</span>
<span id="cb241-7"><a href="lubridate.html#cb241-7" aria-hidden="true"></a><span class="co">## [1] &quot;2009-08-03 12:01:00 UTC&quot;</span></span>
<span id="cb241-8"><a href="lubridate.html#cb241-8" aria-hidden="true"></a><span class="kw">floor_date</span>(x, <span class="st">&quot;hour&quot;</span>)</span>
<span id="cb241-9"><a href="lubridate.html#cb241-9" aria-hidden="true"></a><span class="co">## [1] &quot;2009-08-03 12:00:00 UTC&quot;</span></span>
<span id="cb241-10"><a href="lubridate.html#cb241-10" aria-hidden="true"></a><span class="kw">floor_date</span>(x, <span class="st">&quot;day&quot;</span>)</span>
<span id="cb241-11"><a href="lubridate.html#cb241-11" aria-hidden="true"></a><span class="co">## [1] &quot;2009-08-03 UTC&quot;</span></span>
<span id="cb241-12"><a href="lubridate.html#cb241-12" aria-hidden="true"></a><span class="kw">floor_date</span>(x, <span class="st">&quot;week&quot;</span>)</span>
<span id="cb241-13"><a href="lubridate.html#cb241-13" aria-hidden="true"></a><span class="co">## [1] &quot;2009-08-02 UTC&quot;</span></span>
<span id="cb241-14"><a href="lubridate.html#cb241-14" aria-hidden="true"></a><span class="kw">floor_date</span>(x, <span class="st">&quot;month&quot;</span>)</span>
<span id="cb241-15"><a href="lubridate.html#cb241-15" aria-hidden="true"></a><span class="co">## [1] &quot;2009-08-01 UTC&quot;</span></span>
<span id="cb241-16"><a href="lubridate.html#cb241-16" aria-hidden="true"></a><span class="kw">floor_date</span>(x, <span class="st">&quot;bimonth&quot;</span>)</span>
<span id="cb241-17"><a href="lubridate.html#cb241-17" aria-hidden="true"></a><span class="co">## [1] &quot;2009-07-01 UTC&quot;</span></span>
<span id="cb241-18"><a href="lubridate.html#cb241-18" aria-hidden="true"></a><span class="kw">floor_date</span>(x, <span class="st">&quot;quarter&quot;</span>)</span>
<span id="cb241-19"><a href="lubridate.html#cb241-19" aria-hidden="true"></a><span class="co">## [1] &quot;2009-07-01 UTC&quot;</span></span>
<span id="cb241-20"><a href="lubridate.html#cb241-20" aria-hidden="true"></a><span class="kw">floor_date</span>(x, <span class="st">&quot;season&quot;</span>)</span>
<span id="cb241-21"><a href="lubridate.html#cb241-21" aria-hidden="true"></a><span class="co">## [1] &quot;2009-06-01 UTC&quot;</span></span>
<span id="cb241-22"><a href="lubridate.html#cb241-22" aria-hidden="true"></a><span class="kw">floor_date</span>(x, <span class="st">&quot;halfyear&quot;</span>)</span>
<span id="cb241-23"><a href="lubridate.html#cb241-23" aria-hidden="true"></a><span class="co">## [1] &quot;2009-07-01 UTC&quot;</span></span>
<span id="cb241-24"><a href="lubridate.html#cb241-24" aria-hidden="true"></a><span class="kw">floor_date</span>(x, <span class="st">&quot;year&quot;</span>)</span>
<span id="cb241-25"><a href="lubridate.html#cb241-25" aria-hidden="true"></a><span class="co">## [1] &quot;2009-01-01 UTC&quot;</span></span></code></pre></div>
<p>可自行比較 <code>round_date()</code>, <code>ceiling_date()</code> 的差異.</p>
</div>
<div id="計算時間長度" class="section level2" number="12.5">
<h2><span class="header-section-number">12.5</span> 計算時間長度</h2>
<p>資料分析常常需要輸入持續時間長度或是計算二個 date-time 物件之間的時間長度.
<code>lubridate</code> 套件有數種計算時間長度的工具.</p>
<ul>
<li><code>duration</code> 創建以秒計算的時間長度的物件.</li>
<li><code>period</code> 創建以人類文明的時間單位計算時間長度, 例如依照日歷的 years, months, days.</li>
<li><code>interval</code> 計算二個 date-time 物件之間的時間長度.</li>
</ul>
<div id="duration-創建以秒計算的時間長度的物件" class="section level3" number="12.5.1">
<h3><span class="header-section-number">12.5.1</span> <code>duration</code> 創建以秒計算的時間長度的物件</h3>
<p><code>duration()</code> 系列函式用來輸入持續時間長度, 創建以秒計算的時間長度的物件</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="lubridate.html#cb242-1" aria-hidden="true"></a><span class="kw">duration</span>(<span class="dt">num =</span> <span class="ot">NULL</span>, <span class="dt">units =</span> <span class="st">&quot;seconds&quot;</span>, ...)</span></code></pre></div>
<p>其中引數 <code>num</code> 為數值, <code>units</code> 為計算時間的單位.
<code>duration</code> 物件的時間計算是固定的, 例如,
Minutes = 60 seconds, hours = 3600 seconds, days = 86400 seconds, weeks = 604800.
這些 <code>duration()</code> 系列函式包含
<code>dseconds(x = 1)</code>,
<code>dminutes(x = 1)</code>,
<code>dhours(x = 1)</code>,
<code>ddays(x = 1)</code>,
<code>dweeks(x = 1)</code>,
<code>dmonths(x = 1)</code>,
<code>dyears(x = 1)</code>,
<code>dmilliseconds(x = 1)</code>,
<code>dmicroseconds(x = 1)</code>,
<code>dnanoseconds(x = 1)</code>,
<code>dpicoseconds(x = 1)</code>,
<code>is.duration(x)</code> 等.</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="lubridate.html#cb243-1" aria-hidden="true"></a><span class="co">## </span><span class="al">###</span><span class="co"> Separate period and units vectors</span></span>
<span id="cb243-2"><a href="lubridate.html#cb243-2" aria-hidden="true"></a><span class="kw">duration</span>(<span class="dt">num =</span> <span class="dv">90</span>, <span class="dt">units =</span> <span class="st">&quot;seconds&quot;</span>)</span>
<span id="cb243-3"><a href="lubridate.html#cb243-3" aria-hidden="true"></a><span class="co">## [1] &quot;90s (~1.5 minutes)&quot;</span></span>
<span id="cb243-4"><a href="lubridate.html#cb243-4" aria-hidden="true"></a><span class="kw">duration</span>(<span class="dt">num =</span> <span class="fl">1.5</span>, <span class="dt">units =</span> <span class="st">&quot;minutes&quot;</span>)</span>
<span id="cb243-5"><a href="lubridate.html#cb243-5" aria-hidden="true"></a><span class="co">## [1] &quot;90s (~1.5 minutes)&quot;</span></span>
<span id="cb243-6"><a href="lubridate.html#cb243-6" aria-hidden="true"></a><span class="co">## Units as arguments</span></span>
<span id="cb243-7"><a href="lubridate.html#cb243-7" aria-hidden="true"></a><span class="kw">duration</span>(<span class="dt">day =</span> <span class="dv">-1</span>)</span>
<span id="cb243-8"><a href="lubridate.html#cb243-8" aria-hidden="true"></a><span class="co">## [1] &quot;-86400s (~-1 days)&quot;</span></span>
<span id="cb243-9"><a href="lubridate.html#cb243-9" aria-hidden="true"></a><span class="kw">duration</span>(<span class="dt">second =</span> <span class="dv">90</span>)</span>
<span id="cb243-10"><a href="lubridate.html#cb243-10" aria-hidden="true"></a><span class="co">## [1] &quot;90s (~1.5 minutes)&quot;</span></span>
<span id="cb243-11"><a href="lubridate.html#cb243-11" aria-hidden="true"></a><span class="kw">duration</span>(<span class="dt">second =</span> <span class="dv">3</span>, <span class="dt">minute =</span> <span class="fl">1.5</span>, <span class="dt">hour =</span> <span class="dv">2</span>, <span class="dt">day =</span> <span class="dv">6</span>, <span class="dt">week =</span> <span class="dv">1</span>)</span>
<span id="cb243-12"><a href="lubridate.html#cb243-12" aria-hidden="true"></a><span class="co">## [1] &quot;1130493s (~1.87 weeks)&quot;</span></span>
<span id="cb243-13"><a href="lubridate.html#cb243-13" aria-hidden="true"></a><span class="kw">duration</span>(<span class="dt">hour =</span> <span class="dv">1</span>, <span class="dt">minute =</span> <span class="dv">-60</span>)</span>
<span id="cb243-14"><a href="lubridate.html#cb243-14" aria-hidden="true"></a><span class="co">## [1] &quot;0s&quot;</span></span>
<span id="cb243-15"><a href="lubridate.html#cb243-15" aria-hidden="true"></a><span class="co">## Elementary construction</span></span>
<span id="cb243-16"><a href="lubridate.html#cb243-16" aria-hidden="true"></a><span class="kw">dseconds</span>(<span class="dt">x =</span> <span class="dv">1</span>)</span>
<span id="cb243-17"><a href="lubridate.html#cb243-17" aria-hidden="true"></a><span class="co">## [1] &quot;1s&quot;</span></span>
<span id="cb243-18"><a href="lubridate.html#cb243-18" aria-hidden="true"></a><span class="kw">dminutes</span>(<span class="dt">x =</span> <span class="fl">3.5</span>)</span>
<span id="cb243-19"><a href="lubridate.html#cb243-19" aria-hidden="true"></a><span class="co">## [1] &quot;210s (~3.5 minutes)&quot;</span></span></code></pre></div>
</div>
<div id="period-創建以人類文明的時間單位計算時間長度" class="section level3" number="12.5.2">
<h3><span class="header-section-number">12.5.2</span> <code>period</code> 創建以人類文明的時間單位計算時間長度</h3>
<p><code>period()</code> 系列函式用來輸入持續時間長度,
依照日歷的 years, months, days 計算.
例如, 2009-01-01 起計算 1 year = 365 days,
但 2012-01-01 起計算 1 year = 366 days.
<code>period</code> 物件的時間長度並不固定,
而是依據 date-time 物件所在的時際日歷而定.
若當年度有潤秒, 則 1 min &gt; 60 seconds.
<code>period</code> 物件是人類文明使用的 <code>clock time</code>.</p>
<p><code>seconds()</code>,
<code>minutes()</code>,
<code>hours()</code>,
<code>days()</code>,
<code>weeks()</code>,
<code>months()</code>,
<code>years()</code>,
<code>milliseconds()</code>,
<code>microseconds()</code>,
nanoseconds()<code>,</code>picoseconds()<code>,</code>period_to_seconds()<code>,</code>seconds_to_period()` 等.</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="lubridate.html#cb244-1" aria-hidden="true"></a><span class="kw">period</span>(<span class="dt">num =</span> <span class="dv">1</span>, <span class="dt">units =</span> <span class="st">&quot;days&quot;</span>)</span>
<span id="cb244-2"><a href="lubridate.html#cb244-2" aria-hidden="true"></a><span class="co">## [1] &quot;1d 0H 0M 0S&quot;</span></span>
<span id="cb244-3"><a href="lubridate.html#cb244-3" aria-hidden="true"></a><span class="kw">period</span>(<span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">13</span>, <span class="dv">1</span>), <span class="kw">c</span>(<span class="st">&quot;second&quot;</span>, <span class="st">&quot;minute&quot;</span>, <span class="st">&quot;hour&quot;</span>, <span class="st">&quot;day&quot;</span>, <span class="st">&quot;week&quot;</span>))</span>
<span id="cb244-4"><a href="lubridate.html#cb244-4" aria-hidden="true"></a><span class="co">## [1] &quot;20d 2H 1M 3S&quot;</span></span>
<span id="cb244-5"><a href="lubridate.html#cb244-5" aria-hidden="true"></a><span class="co">## Units as arguments</span></span>
<span id="cb244-6"><a href="lubridate.html#cb244-6" aria-hidden="true"></a><span class="kw">period</span> (<span class="dt">second =</span> <span class="dv">90</span>, <span class="dt">minute =</span> <span class="dv">5</span>)</span>
<span id="cb244-7"><a href="lubridate.html#cb244-7" aria-hidden="true"></a><span class="co">## [1] &quot;5M 90S&quot;</span></span>
<span id="cb244-8"><a href="lubridate.html#cb244-8" aria-hidden="true"></a><span class="kw">period</span>(<span class="dt">second =</span> <span class="dv">3</span>, <span class="dt">minute =</span> <span class="dv">1</span>, <span class="dt">hour =</span> <span class="dv">2</span>, <span class="dt">day =</span> <span class="dv">13</span>, <span class="dt">week =</span> <span class="dv">1</span>)</span>
<span id="cb244-9"><a href="lubridate.html#cb244-9" aria-hidden="true"></a><span class="co">## [1] &quot;20d 2H 1M 3S&quot;</span></span>
<span id="cb244-10"><a href="lubridate.html#cb244-10" aria-hidden="true"></a><span class="co">## Elementary Construction</span></span>
<span id="cb244-11"><a href="lubridate.html#cb244-11" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">ymd</span>(<span class="st">&quot;2009-08-03&quot;</span>)</span>
<span id="cb244-12"><a href="lubridate.html#cb244-12" aria-hidden="true"></a>x</span>
<span id="cb244-13"><a href="lubridate.html#cb244-13" aria-hidden="true"></a><span class="co">## [1] &quot;2009-08-03&quot;</span></span>
<span id="cb244-14"><a href="lubridate.html#cb244-14" aria-hidden="true"></a>x <span class="op">+</span><span class="st"> </span><span class="kw">days</span>(<span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">hours</span>(<span class="dv">6</span>) <span class="op">+</span><span class="st"> </span><span class="kw">minutes</span>(<span class="dv">30</span>)</span>
<span id="cb244-15"><a href="lubridate.html#cb244-15" aria-hidden="true"></a><span class="co">## [1] &quot;2009-08-04 06:30:00 UTC&quot;</span></span>
<span id="cb244-16"><a href="lubridate.html#cb244-16" aria-hidden="true"></a>x <span class="op">+</span><span class="st"> </span><span class="kw">days</span>(<span class="dv">100</span>) <span class="op">-</span><span class="st"> </span><span class="kw">hours</span>(<span class="dv">8</span>)</span>
<span id="cb244-17"><a href="lubridate.html#cb244-17" aria-hidden="true"></a><span class="co">## [1] &quot;2009-11-10 16:00:00 UTC&quot;</span></span>
<span id="cb244-18"><a href="lubridate.html#cb244-18" aria-hidden="true"></a><span class="co">## compare DST handling to durations</span></span>
<span id="cb244-19"><a href="lubridate.html#cb244-19" aria-hidden="true"></a>boundary &lt;-<span class="st"> </span><span class="kw">ymd_hms</span>(<span class="st">&quot;2009-03-08 01:59:59&quot;</span>, <span class="dt">tz=</span><span class="st">&quot;America/Chicago&quot;</span>)</span>
<span id="cb244-20"><a href="lubridate.html#cb244-20" aria-hidden="true"></a>boundary <span class="op">+</span><span class="st"> </span><span class="kw">days</span>(<span class="dv">1</span>) <span class="co"># period</span></span>
<span id="cb244-21"><a href="lubridate.html#cb244-21" aria-hidden="true"></a><span class="co">## [1] &quot;2009-03-09 01:59:59 CDT&quot;</span></span>
<span id="cb244-22"><a href="lubridate.html#cb244-22" aria-hidden="true"></a>boundary <span class="op">+</span><span class="st"> </span><span class="kw">ddays</span>(<span class="dv">1</span>) <span class="co"># duration</span></span>
<span id="cb244-23"><a href="lubridate.html#cb244-23" aria-hidden="true"></a><span class="co">## [1] &quot;2009-03-09 02:59:59 CDT&quot;</span></span>
<span id="cb244-24"><a href="lubridate.html#cb244-24" aria-hidden="true"></a><span class="kw">is.duration</span>(<span class="kw">as.Date</span>(<span class="st">&quot;2009-08-03&quot;</span>)) <span class="co"># FALSE</span></span>
<span id="cb244-25"><a href="lubridate.html#cb244-25" aria-hidden="true"></a><span class="co">## [1] FALSE</span></span>
<span id="cb244-26"><a href="lubridate.html#cb244-26" aria-hidden="true"></a><span class="kw">is.duration</span>(<span class="kw">duration</span>(<span class="dt">days =</span> <span class="fl">12.4</span>)) <span class="co"># TRUE</span></span>
<span id="cb244-27"><a href="lubridate.html#cb244-27" aria-hidden="true"></a><span class="co">## [1] TRUE</span></span>
<span id="cb244-28"><a href="lubridate.html#cb244-28" aria-hidden="true"></a><span class="kw">is.period</span>(<span class="kw">as.Date</span>(<span class="st">&quot;2009-08-03&quot;</span>)) <span class="co"># FALSE</span></span>
<span id="cb244-29"><a href="lubridate.html#cb244-29" aria-hidden="true"></a><span class="co">## [1] FALSE</span></span>
<span id="cb244-30"><a href="lubridate.html#cb244-30" aria-hidden="true"></a><span class="kw">is.period</span>(<span class="kw">period</span>(<span class="dt">months=</span> <span class="dv">1</span>, <span class="dt">days =</span> <span class="dv">15</span>)) <span class="co"># TRUE</span></span>
<span id="cb244-31"><a href="lubridate.html#cb244-31" aria-hidden="true"></a><span class="co">## [1] TRUE</span></span></code></pre></div>
</div>
<div id="interval-計算二個-date-time-物件之間的時間長度." class="section level3" number="12.5.3">
<h3><span class="header-section-number">12.5.3</span> <code>interval</code> 計算二個 date-time 物件之間的時間長度.</h3>
<p><code>interval()</code> 系列函式用來計算二個 date-time 物件之間的時間長度.</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="lubridate.html#cb245-1" aria-hidden="true"></a><span class="kw">interval</span>(<span class="dt">start =</span> <span class="ot">NULL</span>, <span class="dt">end =</span> <span class="ot">NULL</span>, <span class="dt">tzone =</span> <span class="kw">tz</span>(start))</span></code></pre></div>
<p>若起始 date-time 物件早發生於結束 date-time 物件,
則 <code>interval</code> 物件計算為正值.
<code>interval</code> 物件計算依照日歷的 years, months, days 計算.
<code>start %--% end</code> 等同於 <code>interval()</code>,
<code>is.interval(x)</code> 檢查是否為 <code>interval</code> 物件,
<code>int_start(int)</code>,
<code>int_start(int) &lt;- value</code>,
<code>int_end(int)</code>,
<code>int_end(int) &lt;- value</code>等可變更起始與結束時間點,
<code>int_length(int)</code> 以秒計算,
<code>int_flip(int)</code> 翻轉起始與結束時間點,
<code>int_shift(int, by)</code> 起始與結束時間點進行前後移動,
<code>int_overlaps(int1, int2)</code> 檢查二個 <code>interval</code> 物件是否重覆,
<code>int_standardize(int)</code> 確保所有 <code>interval</code> 物件為正值, 若無則翻轉,
<code>int_aligns(int1, int2)</code>檢查二個 <code>interval</code> 物件是否有相同起始與結束時間點,
<code>int_diff(times)</code> 類似 {R} base <code>POSIXt</code> 與 <code>Date</code> 的 diff() 函式,
但回傳 <code>interval</code> 物件, 而不是 {R} base 的 <code>difftime</code> 物件.</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="lubridate.html#cb246-1" aria-hidden="true"></a><span class="kw">interval</span>(<span class="kw">ymd</span>(<span class="dv">20090201</span>), <span class="kw">ymd</span>(<span class="dv">20090101</span>))</span>
<span id="cb246-2"><a href="lubridate.html#cb246-2" aria-hidden="true"></a><span class="co">## [1] 2009-02-01 UTC--2009-01-01 UTC</span></span>
<span id="cb246-3"><a href="lubridate.html#cb246-3" aria-hidden="true"></a>date1 &lt;-<span class="st"> </span><span class="kw">ymd_hms</span>(<span class="st">&quot;2009-03-08 01:59:59&quot;</span>)</span>
<span id="cb246-4"><a href="lubridate.html#cb246-4" aria-hidden="true"></a>date2 &lt;-<span class="st"> </span><span class="kw">ymd_hms</span>(<span class="st">&quot;2000-02-29 12:00:00&quot;</span>)</span>
<span id="cb246-5"><a href="lubridate.html#cb246-5" aria-hidden="true"></a><span class="kw">interval</span>(date2, date1)</span>
<span id="cb246-6"><a href="lubridate.html#cb246-6" aria-hidden="true"></a><span class="co">## [1] 2000-02-29 12:00:00 UTC--2009-03-08 01:59:59 UTC</span></span>
<span id="cb246-7"><a href="lubridate.html#cb246-7" aria-hidden="true"></a><span class="kw">interval</span>(date1, date2)</span>
<span id="cb246-8"><a href="lubridate.html#cb246-8" aria-hidden="true"></a><span class="co">## [1] 2009-03-08 01:59:59 UTC--2000-02-29 12:00:00 UTC</span></span>
<span id="cb246-9"><a href="lubridate.html#cb246-9" aria-hidden="true"></a><span class="co">## Elementary Construction</span></span>
<span id="cb246-10"><a href="lubridate.html#cb246-10" aria-hidden="true"></a><span class="kw">is.interval</span>(<span class="kw">period</span>(<span class="dt">months =</span> <span class="dv">1</span>, <span class="dt">days =</span> <span class="dv">15</span>)) <span class="co"># FALSE</span></span>
<span id="cb246-11"><a href="lubridate.html#cb246-11" aria-hidden="true"></a><span class="co">## [1] FALSE</span></span>
<span id="cb246-12"><a href="lubridate.html#cb246-12" aria-hidden="true"></a><span class="kw">is.interval</span>(<span class="kw">interval</span>(<span class="kw">ymd</span>(<span class="dv">20090801</span>), <span class="kw">ymd</span>(<span class="dv">20090809</span>))) <span class="co"># TRUE</span></span>
<span id="cb246-13"><a href="lubridate.html#cb246-13" aria-hidden="true"></a><span class="co">## [1] TRUE</span></span>
<span id="cb246-14"><a href="lubridate.html#cb246-14" aria-hidden="true"></a>int &lt;-<span class="st"> </span><span class="kw">interval</span>(<span class="kw">ymd</span>(<span class="st">&quot;2001-01-01&quot;</span>), <span class="kw">ymd</span>(<span class="st">&quot;2002-01-01&quot;</span>))</span>
<span id="cb246-15"><a href="lubridate.html#cb246-15" aria-hidden="true"></a><span class="kw">int_start</span>(int)</span>
<span id="cb246-16"><a href="lubridate.html#cb246-16" aria-hidden="true"></a><span class="co">## [1] &quot;2001-01-01 UTC&quot;</span></span>
<span id="cb246-17"><a href="lubridate.html#cb246-17" aria-hidden="true"></a><span class="kw">int_start</span>(int) &lt;-<span class="st"> </span><span class="kw">ymd</span>(<span class="st">&quot;2001-06-01&quot;</span>)</span>
<span id="cb246-18"><a href="lubridate.html#cb246-18" aria-hidden="true"></a>int</span>
<span id="cb246-19"><a href="lubridate.html#cb246-19" aria-hidden="true"></a><span class="co">## [1] 2001-06-01 UTC--2002-01-01 UTC</span></span>
<span id="cb246-20"><a href="lubridate.html#cb246-20" aria-hidden="true"></a>int &lt;-<span class="st"> </span><span class="kw">interval</span>(<span class="kw">ymd</span>(<span class="st">&quot;2001-01-01&quot;</span>), <span class="kw">ymd</span>(<span class="st">&quot;2002-01-01&quot;</span>))</span>
<span id="cb246-21"><a href="lubridate.html#cb246-21" aria-hidden="true"></a><span class="kw">int_end</span>(int)</span>
<span id="cb246-22"><a href="lubridate.html#cb246-22" aria-hidden="true"></a><span class="co">## [1] &quot;2002-01-01 UTC&quot;</span></span>
<span id="cb246-23"><a href="lubridate.html#cb246-23" aria-hidden="true"></a><span class="kw">int_end</span>(int) &lt;-<span class="st"> </span><span class="kw">ymd</span>(<span class="st">&quot;2002-06-01&quot;</span>)</span>
<span id="cb246-24"><a href="lubridate.html#cb246-24" aria-hidden="true"></a>int</span>
<span id="cb246-25"><a href="lubridate.html#cb246-25" aria-hidden="true"></a><span class="co">## [1] 2001-01-01 UTC--2002-06-01 UTC</span></span>
<span id="cb246-26"><a href="lubridate.html#cb246-26" aria-hidden="true"></a>int &lt;-<span class="st"> </span><span class="kw">interval</span>(<span class="kw">ymd</span>(<span class="st">&quot;2001-01-01&quot;</span>), <span class="kw">ymd</span>(<span class="st">&quot;2002-01-01&quot;</span>))</span>
<span id="cb246-27"><a href="lubridate.html#cb246-27" aria-hidden="true"></a><span class="kw">int_length</span>(int)</span>
<span id="cb246-28"><a href="lubridate.html#cb246-28" aria-hidden="true"></a><span class="co">## [1] 31536000</span></span>
<span id="cb246-29"><a href="lubridate.html#cb246-29" aria-hidden="true"></a>int &lt;-<span class="st"> </span><span class="kw">interval</span>(<span class="kw">ymd</span>(<span class="st">&quot;2001-01-01&quot;</span>), <span class="kw">ymd</span>(<span class="st">&quot;2002-01-01&quot;</span>))</span>
<span id="cb246-30"><a href="lubridate.html#cb246-30" aria-hidden="true"></a><span class="kw">int_flip</span>(int)</span>
<span id="cb246-31"><a href="lubridate.html#cb246-31" aria-hidden="true"></a><span class="co">## [1] 2002-01-01 UTC--2001-01-01 UTC</span></span>
<span id="cb246-32"><a href="lubridate.html#cb246-32" aria-hidden="true"></a>int &lt;-<span class="st"> </span><span class="kw">interval</span>(<span class="kw">ymd</span>(<span class="st">&quot;2001-01-01&quot;</span>), <span class="kw">ymd</span>(<span class="st">&quot;2002-01-01&quot;</span>))</span>
<span id="cb246-33"><a href="lubridate.html#cb246-33" aria-hidden="true"></a><span class="kw">int_shift</span>(int, <span class="kw">duration</span>(<span class="dt">days =</span> <span class="dv">11</span>))</span>
<span id="cb246-34"><a href="lubridate.html#cb246-34" aria-hidden="true"></a><span class="co">## [1] 2001-01-12 UTC--2002-01-12 UTC</span></span>
<span id="cb246-35"><a href="lubridate.html#cb246-35" aria-hidden="true"></a><span class="kw">int_shift</span>(int, <span class="kw">duration</span>(<span class="dt">hours =</span> <span class="dv">-1</span>))</span>
<span id="cb246-36"><a href="lubridate.html#cb246-36" aria-hidden="true"></a><span class="co">## [1] 2000-12-31 23:00:00 UTC--2001-12-31 23:00:00 UTC</span></span>
<span id="cb246-37"><a href="lubridate.html#cb246-37" aria-hidden="true"></a>int1 &lt;-<span class="st"> </span><span class="kw">interval</span>(<span class="kw">ymd</span>(<span class="st">&quot;2001-01-01&quot;</span>), <span class="kw">ymd</span>(<span class="st">&quot;2002-01-01&quot;</span>))</span>
<span id="cb246-38"><a href="lubridate.html#cb246-38" aria-hidden="true"></a>int2 &lt;-<span class="st"> </span><span class="kw">interval</span>(<span class="kw">ymd</span>(<span class="st">&quot;2001-06-01&quot;</span>), <span class="kw">ymd</span>(<span class="st">&quot;2002-06-01&quot;</span>))</span>
<span id="cb246-39"><a href="lubridate.html#cb246-39" aria-hidden="true"></a>int3 &lt;-<span class="st"> </span><span class="kw">interval</span>(<span class="kw">ymd</span>(<span class="st">&quot;2003-01-01&quot;</span>), <span class="kw">ymd</span>(<span class="st">&quot;2004-01-01&quot;</span>))</span>
<span id="cb246-40"><a href="lubridate.html#cb246-40" aria-hidden="true"></a><span class="kw">int_overlaps</span>(int1, int2) <span class="co"># TRUE</span></span>
<span id="cb246-41"><a href="lubridate.html#cb246-41" aria-hidden="true"></a><span class="co">## [1] TRUE</span></span>
<span id="cb246-42"><a href="lubridate.html#cb246-42" aria-hidden="true"></a><span class="kw">int_overlaps</span>(int1, int3) <span class="co"># FALSE</span></span>
<span id="cb246-43"><a href="lubridate.html#cb246-43" aria-hidden="true"></a><span class="co">## [1] FALSE</span></span>
<span id="cb246-44"><a href="lubridate.html#cb246-44" aria-hidden="true"></a>int &lt;-<span class="st"> </span><span class="kw">interval</span>(<span class="kw">ymd</span>(<span class="st">&quot;2002-01-01&quot;</span>), <span class="kw">ymd</span>(<span class="st">&quot;2001-01-01&quot;</span>))</span>
<span id="cb246-45"><a href="lubridate.html#cb246-45" aria-hidden="true"></a><span class="kw">int_standardize</span>(int)</span>
<span id="cb246-46"><a href="lubridate.html#cb246-46" aria-hidden="true"></a><span class="co">## [1] 2001-01-01 UTC--2002-01-01 UTC</span></span>
<span id="cb246-47"><a href="lubridate.html#cb246-47" aria-hidden="true"></a>int1 &lt;-<span class="st"> </span><span class="kw">interval</span>(<span class="kw">ymd</span>(<span class="st">&quot;2001-01-01&quot;</span>), <span class="kw">ymd</span>(<span class="st">&quot;2002-01-01&quot;</span>))</span>
<span id="cb246-48"><a href="lubridate.html#cb246-48" aria-hidden="true"></a>int2 &lt;-<span class="st"> </span><span class="kw">interval</span>(<span class="kw">ymd</span>(<span class="st">&quot;2001-06-01&quot;</span>), <span class="kw">ymd</span>(<span class="st">&quot;2002-01-01&quot;</span>))</span>
<span id="cb246-49"><a href="lubridate.html#cb246-49" aria-hidden="true"></a>int3 &lt;-<span class="st"> </span><span class="kw">interval</span>(<span class="kw">ymd</span>(<span class="st">&quot;2003-01-01&quot;</span>), <span class="kw">ymd</span>(<span class="st">&quot;2004-01-01&quot;</span>))</span>
<span id="cb246-50"><a href="lubridate.html#cb246-50" aria-hidden="true"></a><span class="kw">int_aligns</span>(int1, int2) <span class="co"># TRUE</span></span>
<span id="cb246-51"><a href="lubridate.html#cb246-51" aria-hidden="true"></a><span class="co">## [1] TRUE</span></span>
<span id="cb246-52"><a href="lubridate.html#cb246-52" aria-hidden="true"></a><span class="kw">int_aligns</span>(int1, int3) <span class="co"># FALSE</span></span>
<span id="cb246-53"><a href="lubridate.html#cb246-53" aria-hidden="true"></a><span class="co">## [1] FALSE</span></span>
<span id="cb246-54"><a href="lubridate.html#cb246-54" aria-hidden="true"></a>dates &lt;-<span class="st"> </span><span class="kw">now</span>() <span class="op">+</span><span class="st"> </span><span class="kw">days</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</span>
<span id="cb246-55"><a href="lubridate.html#cb246-55" aria-hidden="true"></a><span class="kw">int_diff</span>(dates)</span>
<span id="cb246-56"><a href="lubridate.html#cb246-56" aria-hidden="true"></a><span class="co">## [1] 2020-10-18 15:41:18.371637 CST--2020-10-19 15:41:18.371637 CST</span></span>
<span id="cb246-57"><a href="lubridate.html#cb246-57" aria-hidden="true"></a><span class="co">## [2] 2020-10-19 15:41:18.371637 CST--2020-10-20 15:41:18.371637 CST</span></span></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="forcats.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="StatIntro.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "PMingLiU",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["r4biost.pdf", "r4biost.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
