<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 11 因子資料處理 | R 資料科學與統計</title>
  <meta name="description" content="Chapter 11 因子資料處理 | R 資料科學與統計" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 11 因子資料處理 | R 資料科學與統計" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Chapter 11 因子資料處理 | R 資料科學與統計" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 11 因子資料處理 | R 資料科學與統計" />
  
  <meta name="twitter:description" content="Chapter 11 因子資料處理 | R 資料科學與統計" />
  

<meta name="author" content="林建甫 Jeff Lin" />


<meta name="date" content="2020-10-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="stringr.html"/>
<link rel="next" href="lubridate.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> R 語言基本概論</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#下載與安裝-r"><i class="fa fa-check"></i><b>1.1</b> 下載與安裝 R</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#下載與安裝-rsudio"><i class="fa fa-check"></i><b>1.2</b> 下載與安裝 RSudio</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#簡單實例"><i class="fa fa-check"></i><b>1.3</b> 簡單實例</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#物件-object"><i class="fa fa-check"></i><b>1.4</b> 物件 Object</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#使用指令"><i class="fa fa-check"></i><b>1.5</b> 使用指令</a></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#查詢顯示物件與刪除物件"><i class="fa fa-check"></i><b>1.6</b> 查詢顯示物件與刪除物件</a></li>
<li class="chapter" data-level="1.7" data-path="intro.html"><a href="intro.html#程式中止操作"><i class="fa fa-check"></i><b>1.7</b> 程式中止操作</a></li>
<li class="chapter" data-level="1.8" data-path="intro.html"><a href="intro.html#工作目錄"><i class="fa fa-check"></i><b>1.8</b> 工作目錄</a></li>
<li class="chapter" data-level="1.9" data-path="intro.html"><a href="intro.html#程式編輯軟體與整合系統-rstudio"><i class="fa fa-check"></i><b>1.9</b> 程式編輯軟體與整合系統 RStudio</a></li>
<li class="chapter" data-level="1.10" data-path="intro.html"><a href="intro.html#函式-function"><i class="fa fa-check"></i><b>1.10</b> 函式 Function</a></li>
<li class="chapter" data-level="1.11" data-path="intro.html"><a href="intro.html#套件-packages"><i class="fa fa-check"></i><b>1.11</b> 套件 Packages</a></li>
<li class="chapter" data-level="1.12" data-path="intro.html"><a href="intro.html#解說與輔助文件"><i class="fa fa-check"></i><b>1.12</b> 解說與輔助文件</a></li>
<li class="chapter" data-level="1.13" data-path="intro.html"><a href="intro.html#地區語系與時區"><i class="fa fa-check"></i><b>1.13</b> 地區語系與時區</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="vector.html"><a href="vector.html"><i class="fa fa-check"></i><b>2</b> 向量</a>
<ul>
<li class="chapter" data-level="2.1" data-path="vector.html"><a href="vector.html#向量"><i class="fa fa-check"></i><b>2.1</b> 向量</a></li>
<li class="chapter" data-level="2.2" data-path="vector.html"><a href="vector.html#向量基本資料類型"><i class="fa fa-check"></i><b>2.2</b> 向量基本資料類型</a></li>
<li class="chapter" data-level="2.3" data-path="vector.html"><a href="vector.html#向量產生函式-c"><i class="fa fa-check"></i><b>2.3</b> 向量產生函式 <code>c()</code></a></li>
<li class="chapter" data-level="2.4" data-path="vector.html"><a href="vector.html#向量基本運算操作符號"><i class="fa fa-check"></i><b>2.4</b> 向量基本運算操作符號</a></li>
<li class="chapter" data-level="2.5" data-path="vector.html"><a href="vector.html#向量基本算數操作"><i class="fa fa-check"></i><b>2.5</b> 向量基本算數操作</a></li>
<li class="chapter" data-level="2.6" data-path="vector.html"><a href="vector.html#向量關係比較操作"><i class="fa fa-check"></i><b>2.6</b> 向量關係比較操作</a></li>
<li class="chapter" data-level="2.7" data-path="vector.html"><a href="vector.html#向量邏輯操作"><i class="fa fa-check"></i><b>2.7</b> 向量邏輯操作</a></li>
<li class="chapter" data-level="2.8" data-path="vector.html"><a href="vector.html#向量元素命名"><i class="fa fa-check"></i><b>2.8</b> 向量元素命名</a></li>
<li class="chapter" data-level="2.9" data-path="vector.html"><a href="vector.html#向量下標與索引-inxex"><i class="fa fa-check"></i><b>2.9</b> 向量下標與索引 Inxex</a></li>
<li class="chapter" data-level="2.10" data-path="vector.html"><a href="vector.html#遺失值-缺失值-missing-values"><i class="fa fa-check"></i><b>2.10</b> 遺失值 (缺失值) Missing Values</a></li>
<li class="chapter" data-level="2.11" data-path="vector.html"><a href="vector.html#因子物件與類別變數-factor"><i class="fa fa-check"></i><b>2.11</b> 因子物件與類別變數 Factor</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dataobject.html"><a href="dataobject.html"><i class="fa fa-check"></i><b>3</b> 資料物件</a>
<ul>
<li class="chapter" data-level="3.1" data-path="dataobject.html"><a href="dataobject.html#矩陣物件-matrix"><i class="fa fa-check"></i><b>3.1</b> 矩陣物件 Matrix</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="dataobject.html"><a href="dataobject.html#矩陣函式-matrix"><i class="fa fa-check"></i><b>3.1.1</b> 矩陣函式 matrix()</a></li>
<li class="chapter" data-level="3.1.2" data-path="dataobject.html"><a href="dataobject.html#矩陣命名-dimnames"><i class="fa fa-check"></i><b>3.1.2</b> 矩陣命名 dimnames()</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="dataobject.html"><a href="dataobject.html#矩陣的下標與索引-matrix-index"><i class="fa fa-check"></i><b>3.2</b> 矩陣的下標與索引 Matrix Index</a></li>
<li class="chapter" data-level="3.3" data-path="dataobject.html"><a href="dataobject.html#向量與矩陣的合併-rbind-與-cbind"><i class="fa fa-check"></i><b>3.3</b> 向量與矩陣的合併: rbind() 與 cbind()</a></li>
<li class="chapter" data-level="3.4" data-path="dataobject.html"><a href="dataobject.html#陣列物件-array"><i class="fa fa-check"></i><b>3.4</b> 陣列物件 Array</a></li>
<li class="chapter" data-level="3.5" data-path="dataobject.html"><a href="dataobject.html#列表物件-list"><i class="fa fa-check"></i><b>3.5</b> 列表物件 List</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="dataobject.html"><a href="dataobject.html#列表函式-list"><i class="fa fa-check"></i><b>3.5.1</b> 列表函式 list()</a></li>
<li class="chapter" data-level="3.5.2" data-path="dataobject.html"><a href="dataobject.html#列表的下標與索引-list-index"><i class="fa fa-check"></i><b>3.5.2</b> 列表的下標與索引 List Index</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="dataobject.html"><a href="dataobject.html#資料框架-data-frame"><i class="fa fa-check"></i><b>3.6</b> 資料框架 Data Frame</a></li>
<li class="chapter" data-level="3.7" data-path="dataobject.html"><a href="dataobject.html#資料框架函式-data.frame"><i class="fa fa-check"></i><b>3.7</b> 資料框架函式 data.frame()</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="dataobject.html"><a href="dataobject.html#資料框架的下標與索引-data-frame-index"><i class="fa fa-check"></i><b>3.7.1</b> 資料框架的下標與索引 Data Frame Index</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="datainout.html"><a href="datainout.html"><i class="fa fa-check"></i><b>4</b> 資料輸入與輸出</a>
<ul>
<li class="chapter" data-level="4.1" data-path="datainout.html"><a href="datainout.html#資料框架"><i class="fa fa-check"></i><b>4.1</b> 資料框架</a></li>
<li class="chapter" data-level="4.2" data-path="datainout.html"><a href="datainout.html#輸入外部-ascii-資料檔案至-r-資料框架-空白分隔"><i class="fa fa-check"></i><b>4.2</b> 輸入外部 ASCII 資料檔案至 R 資料框架: 空白分隔</a></li>
<li class="chapter" data-level="4.3" data-path="datainout.html"><a href="datainout.html#輸入外部-ascii-資料檔案至-r-資料框架-逗號分隔"><i class="fa fa-check"></i><b>4.3</b> 輸入外部 ASCII 資料檔案至 R 資料框架: 逗號分隔</a></li>
<li class="chapter" data-level="4.4" data-path="datainout.html"><a href="datainout.html#r-內建資料框架"><i class="fa fa-check"></i><b>4.4</b> R 內建資料框架</a></li>
<li class="chapter" data-level="4.5" data-path="datainout.html"><a href="datainout.html#輸出-r-資料"><i class="fa fa-check"></i><b>4.5</b> 輸出 {R} 資料</a></li>
<li class="chapter" data-level="4.6" data-path="datainout.html"><a href="datainout.html#儲存-r-格式資料檔"><i class="fa fa-check"></i><b>4.6</b> 儲存 {R} 格式資料檔</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>5</b> 資料視覺化分析</a>
<ul>
<li class="chapter" data-level="5.1" data-path="dataviz.html"><a href="dataviz.html#視覺化分析原則"><i class="fa fa-check"></i><b>5.1</b> 視覺化分析原則</a></li>
<li class="chapter" data-level="5.2" data-path="dataviz.html"><a href="dataviz.html#繪圖套件-ggplot2"><i class="fa fa-check"></i><b>5.2</b> 繪圖套件 ggplot2</a></li>
<li class="chapter" data-level="5.3" data-path="dataviz.html"><a href="dataviz.html#類別變數"><i class="fa fa-check"></i><b>5.3</b> 類別變數</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="dataviz.html"><a href="dataviz.html#單一類別變數"><i class="fa fa-check"></i><b>5.3.1</b> 單一類別變數</a></li>
<li class="chapter" data-level="5.3.2" data-path="dataviz.html"><a href="dataviz.html#多類別變數"><i class="fa fa-check"></i><b>5.3.2</b> 多類別變數</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="dataviz.html"><a href="dataviz.html#連續變數"><i class="fa fa-check"></i><b>5.4</b> 連續變數</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="dataviz.html"><a href="dataviz.html#單連續變數"><i class="fa fa-check"></i><b>5.4.1</b> 單連續變數</a></li>
<li class="chapter" data-level="5.4.2" data-path="dataviz.html"><a href="dataviz.html#二連續變數"><i class="fa fa-check"></i><b>5.4.2</b> 二連續變數</a></li>
<li class="chapter" data-level="5.4.3" data-path="dataviz.html"><a href="dataviz.html#三連續變數"><i class="fa fa-check"></i><b>5.4.3</b> 三連續變數</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="dataviz.html"><a href="dataviz.html#混合變數"><i class="fa fa-check"></i><b>5.5</b> 混合變數</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="dataviz.html"><a href="dataviz.html#一連續-一類別"><i class="fa fa-check"></i><b>5.5.1</b> 一連續 + 一類別</a></li>
<li class="chapter" data-level="5.5.2" data-path="dataviz.html"><a href="dataviz.html#二連續-一類別"><i class="fa fa-check"></i><b>5.5.2</b> 二連續 + 一類別</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="dataviz.html"><a href="dataviz.html#分組繪圖"><i class="fa fa-check"></i><b>5.6</b> 分組繪圖</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html"><i class="fa fa-check"></i><b>6</b> 基本函式</a>
<ul>
<li class="chapter" data-level="6.1" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#函式語法"><i class="fa fa-check"></i><b>6.1</b> 函式語法</a></li>
<li class="chapter" data-level="6.2" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#檢視的函式原始碼定義"><i class="fa fa-check"></i><b>6.2</b> 檢視的函式原始碼定義</a></li>
<li class="chapter" data-level="6.3" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#數列函式"><i class="fa fa-check"></i><b>6.3</b> 數列函式</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#數列函式-seq-與-sequence"><i class="fa fa-check"></i><b>6.3.1</b> 數列函式: seq() 與 sequence()</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#重複元素函式-rep"><i class="fa fa-check"></i><b>6.4</b> 重複元素函式: rep()</a></li>
<li class="chapter" data-level="6.5" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#算數函式-arithmetic-computing-function"><i class="fa fa-check"></i><b>6.5</b> 算數函式 Arithmetic Computing Function</a></li>
<li class="chapter" data-level="6.6" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#組合與階乘函式-choose-與-factorial"><i class="fa fa-check"></i><b>6.6</b> 組合與階乘函式: choose() 與 factorial()</a></li>
<li class="chapter" data-level="6.7" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#選擇資料函式-all-any-which"><i class="fa fa-check"></i><b>6.7</b> 選擇資料函式: all(), any(), which()</a></li>
<li class="chapter" data-level="6.8" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#排序函式-ranking-and-sorting"><i class="fa fa-check"></i><b>6.8</b> 排序函式 Ranking and Sorting</a></li>
<li class="chapter" data-level="6.9" data-path="basicfunctiuon.html"><a href="basicfunctiuon.html#物件查看與強制轉換函式"><i class="fa fa-check"></i><b>6.9</b> 物件查看與強制轉換函式</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="basicstat.html"><a href="basicstat.html"><i class="fa fa-check"></i><b>7</b> 基本統計函式</a>
<ul>
<li class="chapter" data-level="7.1" data-path="basicstat.html"><a href="basicstat.html#敘述統計函式"><i class="fa fa-check"></i><b>7.1</b> 敘述統計函式</a></li>
<li class="chapter" data-level="7.2" data-path="basicstat.html"><a href="basicstat.html#類別資料表格函數"><i class="fa fa-check"></i><b>7.2</b> 類別資料表格函數</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="basicstat.html"><a href="basicstat.html#列聯表函式-table-xtabs"><i class="fa fa-check"></i><b>7.2.1</b> 列聯表函式: table(), xtabs()</a></li>
<li class="chapter" data-level="7.2.2" data-path="basicstat.html"><a href="basicstat.html#列聯表函式-ftable"><i class="fa fa-check"></i><b>7.2.2</b> 列聯表函式: ftable()</a></li>
<li class="chapter" data-level="7.2.3" data-path="basicstat.html"><a href="basicstat.html#列聯表函式-margin.table-prop.table"><i class="fa fa-check"></i><b>7.2.3</b> 列聯表函式: margin.table(), prop.table()</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="basicstat.html"><a href="basicstat.html#機率函式與亂數生成函式"><i class="fa fa-check"></i><b>7.3</b> 機率函式與亂數生成函式</a></li>
<li class="chapter" data-level="7.4" data-path="basicstat.html"><a href="basicstat.html#隨機抽樣函式-sample"><i class="fa fa-check"></i><b>7.4</b> 隨機抽樣函式 sample()</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="basictidy.html"><a href="basictidy.html"><i class="fa fa-check"></i><b>8</b> 資料基本處理</a>
<ul>
<li class="chapter" data-level="8.1" data-path="basictidy.html"><a href="basictidy.html#資料輸入套件-readr"><i class="fa fa-check"></i><b>8.1</b> 資料輸入套件 readr</a></li>
<li class="chapter" data-level="8.2" data-path="basictidy.html"><a href="basictidy.html#整潔資料-tidy-data"><i class="fa fa-check"></i><b>8.2</b> 整潔資料 Tidy Data</a></li>
<li class="chapter" data-level="8.3" data-path="basictidy.html"><a href="basictidy.html#tibble-與-data-frame"><i class="fa fa-check"></i><b>8.3</b> Tibble 與 Data Frame</a></li>
<li class="chapter" data-level="8.4" data-path="basictidy.html"><a href="basictidy.html#資料流動管道運算指令-pipe"><i class="fa fa-check"></i><b>8.4</b> 資料流動管道運算指令 Pipe</a></li>
<li class="chapter" data-level="8.5" data-path="basictidy.html"><a href="basictidy.html#資料檢視函式-glimpse"><i class="fa fa-check"></i><b>8.5</b> 資料檢視函式 glimpse()</a></li>
<li class="chapter" data-level="8.6" data-path="basictidy.html"><a href="basictidy.html#資料處裡-dplyr-套件"><i class="fa fa-check"></i><b>8.6</b> 資料處裡 dplyr 套件</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="basictidy.html"><a href="basictidy.html#選擇個體函式-filter"><i class="fa fa-check"></i><b>8.6.1</b> 選擇個體函式 <code>filter()</code></a></li>
<li class="chapter" data-level="8.6.2" data-path="basictidy.html"><a href="basictidy.html#依據變數值排序函式-arrange"><i class="fa fa-check"></i><b>8.6.2</b> 依據變數值排序函式 <code>arrange()</code></a></li>
<li class="chapter" data-level="8.6.3" data-path="basictidy.html"><a href="basictidy.html#選擇變數或欄位子集函式-select"><i class="fa fa-check"></i><b>8.6.3</b> 選擇變數或欄位子集函式 <code>select()</code></a></li>
<li class="chapter" data-level="8.6.4" data-path="basictidy.html"><a href="basictidy.html#變數轉換函式-mutate"><i class="fa fa-check"></i><b>8.6.4</b> 變數轉換函式 <code>mutate()</code></a></li>
<li class="chapter" data-level="8.6.5" data-path="basictidy.html"><a href="basictidy.html#向量-if_else"><i class="fa fa-check"></i><b>8.6.5</b> 向量 <code>if_else()</code></a></li>
<li class="chapter" data-level="8.6.6" data-path="basictidy.html"><a href="basictidy.html#變數重新命名-rename"><i class="fa fa-check"></i><b>8.6.6</b> 變數重新命名 <code>rename()</code></a></li>
<li class="chapter" data-level="8.6.7" data-path="basictidy.html"><a href="basictidy.html#移除缺失資料-drop_na"><i class="fa fa-check"></i><b>8.6.7</b> 移除缺失資料 <code>drop_na()</code></a></li>
<li class="chapter" data-level="8.6.8" data-path="basictidy.html"><a href="basictidy.html#隨機抽樣函式-sample_n-與-sample_frac"><i class="fa fa-check"></i><b>8.6.8</b> 隨機抽樣函式 <code>sample_n()</code> 與 <code>sample_frac()</code></a></li>
<li class="chapter" data-level="8.6.9" data-path="basictidy.html"><a href="basictidy.html#選出明顯不同個體函式-distinct-與-n_distinct"><i class="fa fa-check"></i><b>8.6.9</b> 選出明顯不同個體函式 <code>distinct()</code> 與 <code>n_distinct()</code></a></li>
<li class="chapter" data-level="8.6.10" data-path="basictidy.html"><a href="basictidy.html#利用橫列指標選出個體函式-slice"><i class="fa fa-check"></i><b>8.6.10</b> 利用橫列指標選出個體函式 <code>slice()</code></a></li>
<li class="chapter" data-level="8.6.11" data-path="basictidy.html"><a href="basictidy.html#計算常見統計量函式-summarise"><i class="fa fa-check"></i><b>8.6.11</b> 計算常見統計量函式 <code>summarise()</code></a></li>
<li class="chapter" data-level="8.6.12" data-path="basictidy.html"><a href="basictidy.html#資料分組操作函式-group_by"><i class="fa fa-check"></i><b>8.6.12</b> 資料分組操作函式 <code>group_by()</code></a></li>
<li class="chapter" data-level="8.6.13" data-path="basictidy.html"><a href="basictidy.html#多變數計算統計量函式-summarise_all"><i class="fa fa-check"></i><b>8.6.13</b> 多變數計算統計量函式 <code>summarise_all()</code></a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="basictidy.html"><a href="basictidy.html#資料聯集與交集函式"><i class="fa fa-check"></i><b>8.7</b> 資料聯集與交集函式</a></li>
<li class="chapter" data-level="8.8" data-path="basictidy.html"><a href="basictidy.html#資料合併函式"><i class="fa fa-check"></i><b>8.8</b> 資料合併函式</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="purrr.html"><a href="purrr.html"><i class="fa fa-check"></i><b>9</b> 資料迭代處理</a>
<ul>
<li class="chapter" data-level="9.1" data-path="purrr.html"><a href="purrr.html#對資料變數欄位-columns-進行相同操作"><i class="fa fa-check"></i><b>9.1</b> 對資料變數欄位 (columns) 進行相同操作</a></li>
<li class="chapter" data-level="9.2" data-path="purrr.html"><a href="purrr.html#對資料個體列位-rows-進行相同操作"><i class="fa fa-check"></i><b>9.2</b> 對資料個體列位 (rows) 進行相同操作</a></li>
<li class="chapter" data-level="9.3" data-path="purrr.html"><a href="purrr.html#依據條件進行變數轉換"><i class="fa fa-check"></i><b>9.3</b> 依據條件進行變數轉換</a></li>
<li class="chapter" data-level="9.4" data-path="purrr.html"><a href="purrr.html#r-資料物件操作函式-apply"><i class="fa fa-check"></i><b>9.4</b> {R} 資料物件操作函式: apply()</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="stringr.html"><a href="stringr.html"><i class="fa fa-check"></i><b>10</b> 文字與字串資料處理</a>
<ul>
<li class="chapter" data-level="10.1" data-path="stringr.html"><a href="stringr.html#文字與字串資料基礎"><i class="fa fa-check"></i><b>10.1</b> 文字與字串資料基礎</a></li>
<li class="chapter" data-level="10.2" data-path="stringr.html"><a href="stringr.html#套件-stringr"><i class="fa fa-check"></i><b>10.2</b> 套件 stringr</a></li>
<li class="chapter" data-level="10.3" data-path="stringr.html"><a href="stringr.html#合併文字或字串-str_c"><i class="fa fa-check"></i><b>10.3</b> 合併文字或字串 str_c()</a></li>
<li class="chapter" data-level="10.4" data-path="stringr.html"><a href="stringr.html#取出文字或字串向量中的部分元素-str_sub"><i class="fa fa-check"></i><b>10.4</b> 取出文字或字串向量中的部分元素 str_sub()</a></li>
<li class="chapter" data-level="10.5" data-path="stringr.html"><a href="stringr.html#語言設定地區與文字大小寫排序"><i class="fa fa-check"></i><b>10.5</b> 語言設定地區與文字大小寫排序</a></li>
<li class="chapter" data-level="10.6" data-path="stringr.html"><a href="stringr.html#移除空白-加入空白-截斷文字-str_trim-與-str_pad"><i class="fa fa-check"></i><b>10.6</b> 移除空白, 加入空白, 截斷文字 <code>str_trim()</code> 與 <code>str_pad()</code></a></li>
<li class="chapter" data-level="10.7" data-path="stringr.html"><a href="stringr.html#尋找特定形式文字或字串"><i class="fa fa-check"></i><b>10.7</b> 尋找特定形式文字或字串</a>
<ul>
<li class="chapter" data-level="10.7.1" data-path="stringr.html"><a href="stringr.html#偵測函式-str_detect"><i class="fa fa-check"></i><b>10.7.1</b> 偵測函式 <code>str_detect()</code></a></li>
<li class="chapter" data-level="10.7.2" data-path="stringr.html"><a href="stringr.html#確認位置函式-str_detect"><i class="fa fa-check"></i><b>10.7.2</b> 確認位置函式 <code>str_detect()</code></a></li>
<li class="chapter" data-level="10.7.3" data-path="stringr.html"><a href="stringr.html#確認索引函式-str_subset-與-str_which"><i class="fa fa-check"></i><b>10.7.3</b> 確認索引函式 <code>str_subset()</code> 與 <code>str_which()</code></a></li>
<li class="chapter" data-level="10.7.4" data-path="stringr.html"><a href="stringr.html#取出函式-str_extract"><i class="fa fa-check"></i><b>10.7.4</b> 取出函式 <code>str_extract()</code></a></li>
<li class="chapter" data-level="10.7.5" data-path="stringr.html"><a href="stringr.html#配對函式-str_match"><i class="fa fa-check"></i><b>10.7.5</b> 配對函式 <code>str_match()</code></a></li>
<li class="chapter" data-level="10.7.6" data-path="stringr.html"><a href="stringr.html#替代置換函式-str_replace"><i class="fa fa-check"></i><b>10.7.6</b> 替代置換函式 <code>str_replace()</code></a></li>
<li class="chapter" data-level="10.7.7" data-path="stringr.html"><a href="stringr.html#分割函式-str_split"><i class="fa fa-check"></i><b>10.7.7</b> 分割函式 <code>str_split()</code></a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="stringr.html"><a href="stringr.html#群組尋找特定形式的文字與字串"><i class="fa fa-check"></i><b>10.8</b> 群組尋找特定形式的文字與字串</a></li>
<li class="chapter" data-level="10.9" data-path="stringr.html"><a href="stringr.html#尋找連續重覆特定形式的文字與字串"><i class="fa fa-check"></i><b>10.9</b> 尋找連續重覆特定形式的文字與字串</a></li>
<li class="chapter" data-level="10.10" data-path="stringr.html"><a href="stringr.html#正規表示文字與字串-萬用字元"><i class="fa fa-check"></i><b>10.10</b> 正規表示文字與字串 (萬用字元)</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="forcats.html"><a href="forcats.html"><i class="fa fa-check"></i><b>11</b> 因子資料處理</a>
<ul>
<li class="chapter" data-level="11.1" data-path="forcats.html"><a href="forcats.html#forcats-套件-基本函式"><i class="fa fa-check"></i><b>11.1</b> forcats 套件: 基本函式</a></li>
<li class="chapter" data-level="11.2" data-path="forcats.html"><a href="forcats.html#移除或增加部分類別水準"><i class="fa fa-check"></i><b>11.2</b> 移除或增加部分類別水準</a></li>
<li class="chapter" data-level="11.3" data-path="forcats.html"><a href="forcats.html#改變類別水準函式"><i class="fa fa-check"></i><b>11.3</b> 改變類別水準函式</a></li>
<li class="chapter" data-level="11.4" data-path="forcats.html"><a href="forcats.html#改變或合併類別水準函式-fct_lump"><i class="fa fa-check"></i><b>11.4</b> 改變或合併類別水準函式 fct_lump()</a></li>
<li class="chapter" data-level="11.5" data-path="forcats.html"><a href="forcats.html#類別水準的頻率排序函式-fct_infreq"><i class="fa fa-check"></i><b>11.5</b> 類別水準的頻率排序函式 fct_infreq()</a></li>
<li class="chapter" data-level="11.6" data-path="forcats.html"><a href="forcats.html#依照其他變數將類別重新排序函式-fct_reorder"><i class="fa fa-check"></i><b>11.6</b> 依照其他變數將類別重新排序函式 fct_reorder()</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="lubridate.html"><a href="lubridate.html"><i class="fa fa-check"></i><b>12</b> 日期時間處理</a>
<ul>
<li class="chapter" data-level="12.1" data-path="lubridate.html"><a href="lubridate.html#lubridate-套件的日期時間"><i class="fa fa-check"></i><b>12.1</b> lubridate 套件的日期時間</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="lubridate.html"><a href="lubridate.html#從文字或字串轉換創件日期時間物件"><i class="fa fa-check"></i><b>12.1.1</b> 從文字或字串轉換創件日期時間物件</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="lubridate.html"><a href="lubridate.html#從date-time-資料個別成分-創件日期時間物件."><i class="fa fa-check"></i><b>12.2</b> 從date-time 資料個別成分, 創件日期時間物件.</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="lubridate.html"><a href="lubridate.html#從已經建立的其他資料物件創件日期時間物件"><i class="fa fa-check"></i><b>12.2.1</b> 從已經建立的其他資料物件創件日期時間物件</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="lubridate.html"><a href="lubridate.html#時區轉換"><i class="fa fa-check"></i><b>12.3</b> 時區轉換</a></li>
<li class="chapter" data-level="12.4" data-path="lubridate.html"><a href="lubridate.html#取出-date-time-資料的個別成分"><i class="fa fa-check"></i><b>12.4</b> 取出 date-time 資料的個別成分</a></li>
<li class="chapter" data-level="12.5" data-path="lubridate.html"><a href="lubridate.html#計算時間長度"><i class="fa fa-check"></i><b>12.5</b> 計算時間長度</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="lubridate.html"><a href="lubridate.html#duration-創建以秒計算的時間長度的物件"><i class="fa fa-check"></i><b>12.5.1</b> <code>duration</code> 創建以秒計算的時間長度的物件</a></li>
<li class="chapter" data-level="12.5.2" data-path="lubridate.html"><a href="lubridate.html#period-創建以人類文明的時間單位計算時間長度"><i class="fa fa-check"></i><b>12.5.2</b> <code>period</code> 創建以人類文明的時間單位計算時間長度</a></li>
<li class="chapter" data-level="12.5.3" data-path="lubridate.html"><a href="lubridate.html#interval-計算二個-date-time-物件之間的時間長度."><i class="fa fa-check"></i><b>12.5.3</b> <code>interval</code> 計算二個 date-time 物件之間的時間長度.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="StatIntro.html"><a href="StatIntro.html"><i class="fa fa-check"></i><b>13</b> 統計與醫學</a>
<ul>
<li class="chapter" data-level="13.1" data-path="StatIntro.html"><a href="StatIntro.html#醫學統計"><i class="fa fa-check"></i><b>13.1</b> 醫學統計</a></li>
<li class="chapter" data-level="13.2" data-path="StatIntro.html"><a href="StatIntro.html#統計與數學"><i class="fa fa-check"></i><b>13.2</b> 統計與數學</a></li>
<li class="chapter" data-level="13.3" data-path="StatIntro.html"><a href="StatIntro.html#醫學研究資料"><i class="fa fa-check"></i><b>13.3</b> 醫學研究資料</a></li>
<li class="chapter" data-level="13.4" data-path="StatIntro.html"><a href="StatIntro.html#統計計算與統計軟體"><i class="fa fa-check"></i><b>13.4</b> 統計計算與統計軟體</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="DataVariable.html"><a href="DataVariable.html"><i class="fa fa-check"></i><b>14</b> 資料與變數</a>
<ul>
<li class="chapter" data-level="14.1" data-path="DataVariable.html"><a href="DataVariable.html#醫學研究實例"><i class="fa fa-check"></i><b>14.1</b> 醫學研究實例</a></li>
<li class="chapter" data-level="14.2" data-path="DataVariable.html"><a href="DataVariable.html#資料與變數-data-and-variables"><i class="fa fa-check"></i><b>14.2</b> 資料與變數 Data and Variables</a></li>
<li class="chapter" data-level="14.3" data-path="DataVariable.html"><a href="DataVariable.html#變數分類"><i class="fa fa-check"></i><b>14.3</b> 變數分類</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="DataVariable.html"><a href="DataVariable.html#統計與變數分類"><i class="fa fa-check"></i><b>14.3.1</b> 統計與變數分類</a></li>
<li class="chapter" data-level="14.3.2" data-path="DataVariable.html"><a href="DataVariable.html#資料數位化與變數分類"><i class="fa fa-check"></i><b>14.3.2</b> 資料數位化與變數分類</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="DataVariable.html"><a href="DataVariable.html#單變量-雙變量與多變量"><i class="fa fa-check"></i><b>14.4</b> 單變量, 雙變量與多變量</a></li>
<li class="chapter" data-level="14.5" data-path="DataVariable.html"><a href="DataVariable.html#資料輸入與儲存"><i class="fa fa-check"></i><b>14.5</b> 資料輸入與儲存</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>15</b> Applications</a>
<ul>
<li class="chapter" data-level="15.1" data-path="applications.html"><a href="applications.html#example-one"><i class="fa fa-check"></i><b>15.1</b> Example one</a></li>
<li class="chapter" data-level="15.2" data-path="applications.html"><a href="applications.html#example-two"><i class="fa fa-check"></i><b>15.2</b> Example two</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>16</b> Final Words</a></li>
<li class="chapter" data-level="17" data-path="temp.html"><a href="temp.html"><i class="fa fa-check"></i><b>17</b> Temp</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R 資料科學與統計</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="forcats" class="section level1" number="11">
<h1><span class="header-section-number">Chapter 11</span> 因子資料處理</h1>
<p><strong>因子物件</strong>
(<strong>factor</strong>)
為處理
<strong>類別資料</strong>
(<strong>categorical data</strong>),
提供的一種有效的方法.
<strong>類別變數</strong>
將變數值分成互斥的類別水準,
在類別變數定義中的特定幾種類別水準是否有大小差距,
又可分類成
<strong>名目變數</strong>
(<strong>nominal variable</strong>)
與
<strong>有序變數</strong>
(<strong>ordinal variable</strong>),
或稱
<strong>名目尺度</strong>
與
<strong>順序尺度</strong>.</p>
<p>在 {R} 中特別使用
<strong>因子</strong>
(<strong>factor</strong>)
來表示.
因子是一種特殊的文字向量,
文字向量中的每一個元素, 取一個離散值,
因子物件有一個特殊屬性, 稱為
<strong>層次</strong>,
<strong>水平</strong>,
<strong>水準</strong>
或
<strong>類別水準</strong>
(<strong>levels</strong>),
表示這組所有可能的離散值.
因子常常是用文字或字串輸入,
有時會使用數值或整數代表,
一但變數設定為因素或因子向量,
{R} 在列印或輸出時,
並不會加上雙引號 <code>"</code>,
且數值或有大小順序的文字,
{R} 在統計分析上都必須特別處理.</p>
<p>在 {R} 中若要設定因子,
可以簡單地用函式
<code>factor()</code>
產生無序因子物件.<br />
<code>tidyverse</code> 套件系統提供 <code>forcats</code> 套件,
主要用來處理因子變數與類別資料.</p>
<div id="forcats-套件-基本函式" class="section level2" number="11.1">
<h2><span class="header-section-number">11.1</span> forcats 套件: 基本函式</h2>
<p><code>forcats</code> 套件的基本函式包含</p>
<ul>
<li><code>fct_count(f, sort = FALSE, prop = FALSE)</code>: 計算類別水準數目.</li>
<li><code>fct_unique(f)</code>: 呈現專一類別水準名稱.</li>
<li><code>fct_c(f1, f2)</code>: 合併不同類別水準的 2 個因子物件.</li>
</ul>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="forcats.html#cb221-1" aria-hidden="true"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb221-2"><a href="forcats.html#cb221-2" aria-hidden="true"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb221-3"><a href="forcats.html#cb221-3" aria-hidden="true"></a><span class="kw">library</span>(forcats)</span>
<span id="cb221-4"><a href="forcats.html#cb221-4" aria-hidden="true"></a><span class="kw">library</span>(kableExtra)</span>
<span id="cb221-5"><a href="forcats.html#cb221-5" aria-hidden="true"></a><span class="co">## Warning: package &#39;kableExtra&#39; was built under R version 4.0.3</span></span>
<span id="cb221-6"><a href="forcats.html#cb221-6" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">100</span>)</span>
<span id="cb221-7"><a href="forcats.html#cb221-7" aria-hidden="true"></a>letters[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]</span>
<span id="cb221-8"><a href="forcats.html#cb221-8" aria-hidden="true"></a><span class="co">## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot;</span></span>
<span id="cb221-9"><a href="forcats.html#cb221-9" aria-hidden="true"></a>f &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">sample</span>(letters[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>])[<span class="kw">rpois</span>(<span class="dv">100</span>, <span class="dv">5</span>)])</span>
<span id="cb221-10"><a href="forcats.html#cb221-10" aria-hidden="true"></a><span class="kw">table</span>(f)</span>
<span id="cb221-11"><a href="forcats.html#cb221-11" aria-hidden="true"></a><span class="co">## f</span></span>
<span id="cb221-12"><a href="forcats.html#cb221-12" aria-hidden="true"></a><span class="co">##  a  b  c  d  e </span></span>
<span id="cb221-13"><a href="forcats.html#cb221-13" aria-hidden="true"></a><span class="co">## 21  2  3 21 15</span></span>
<span id="cb221-14"><a href="forcats.html#cb221-14" aria-hidden="true"></a><span class="kw">fct_count</span>(f)</span>
<span id="cb221-15"><a href="forcats.html#cb221-15" aria-hidden="true"></a><span class="co">## # A tibble: 6 x 2</span></span>
<span id="cb221-16"><a href="forcats.html#cb221-16" aria-hidden="true"></a><span class="co">##   f         n</span></span>
<span id="cb221-17"><a href="forcats.html#cb221-17" aria-hidden="true"></a><span class="co">##   &lt;fct&gt; &lt;int&gt;</span></span>
<span id="cb221-18"><a href="forcats.html#cb221-18" aria-hidden="true"></a><span class="co">## 1 a        21</span></span>
<span id="cb221-19"><a href="forcats.html#cb221-19" aria-hidden="true"></a><span class="co">## 2 b         2</span></span>
<span id="cb221-20"><a href="forcats.html#cb221-20" aria-hidden="true"></a><span class="co">## 3 c         3</span></span>
<span id="cb221-21"><a href="forcats.html#cb221-21" aria-hidden="true"></a><span class="co">## 4 d        21</span></span>
<span id="cb221-22"><a href="forcats.html#cb221-22" aria-hidden="true"></a><span class="co">## 5 e        15</span></span>
<span id="cb221-23"><a href="forcats.html#cb221-23" aria-hidden="true"></a><span class="co">## 6 &lt;NA&gt;     38</span></span>
<span id="cb221-24"><a href="forcats.html#cb221-24" aria-hidden="true"></a><span class="kw">fct_count</span>(f, <span class="dt">sort =</span> <span class="ot">TRUE</span>)</span>
<span id="cb221-25"><a href="forcats.html#cb221-25" aria-hidden="true"></a><span class="co">## # A tibble: 6 x 2</span></span>
<span id="cb221-26"><a href="forcats.html#cb221-26" aria-hidden="true"></a><span class="co">##   f         n</span></span>
<span id="cb221-27"><a href="forcats.html#cb221-27" aria-hidden="true"></a><span class="co">##   &lt;fct&gt; &lt;int&gt;</span></span>
<span id="cb221-28"><a href="forcats.html#cb221-28" aria-hidden="true"></a><span class="co">## 1 &lt;NA&gt;     38</span></span>
<span id="cb221-29"><a href="forcats.html#cb221-29" aria-hidden="true"></a><span class="co">## 2 a        21</span></span>
<span id="cb221-30"><a href="forcats.html#cb221-30" aria-hidden="true"></a><span class="co">## 3 d        21</span></span>
<span id="cb221-31"><a href="forcats.html#cb221-31" aria-hidden="true"></a><span class="co">## 4 e        15</span></span>
<span id="cb221-32"><a href="forcats.html#cb221-32" aria-hidden="true"></a><span class="co">## 5 c         3</span></span>
<span id="cb221-33"><a href="forcats.html#cb221-33" aria-hidden="true"></a><span class="co">## 6 b         2</span></span>
<span id="cb221-34"><a href="forcats.html#cb221-34" aria-hidden="true"></a><span class="kw">fct_count</span>(f, <span class="dt">sort =</span> <span class="ot">TRUE</span>, <span class="dt">prop =</span> <span class="ot">TRUE</span>)</span>
<span id="cb221-35"><a href="forcats.html#cb221-35" aria-hidden="true"></a><span class="co">## # A tibble: 6 x 3</span></span>
<span id="cb221-36"><a href="forcats.html#cb221-36" aria-hidden="true"></a><span class="co">##   f         n     p</span></span>
<span id="cb221-37"><a href="forcats.html#cb221-37" aria-hidden="true"></a><span class="co">##   &lt;fct&gt; &lt;int&gt; &lt;dbl&gt;</span></span>
<span id="cb221-38"><a href="forcats.html#cb221-38" aria-hidden="true"></a><span class="co">## 1 &lt;NA&gt;     38  0.38</span></span>
<span id="cb221-39"><a href="forcats.html#cb221-39" aria-hidden="true"></a><span class="co">## 2 a        21  0.21</span></span>
<span id="cb221-40"><a href="forcats.html#cb221-40" aria-hidden="true"></a><span class="co">## 3 d        21  0.21</span></span>
<span id="cb221-41"><a href="forcats.html#cb221-41" aria-hidden="true"></a><span class="co">## 4 e        15  0.15</span></span>
<span id="cb221-42"><a href="forcats.html#cb221-42" aria-hidden="true"></a><span class="co">## 5 c         3  0.03</span></span>
<span id="cb221-43"><a href="forcats.html#cb221-43" aria-hidden="true"></a><span class="co">## 6 b         2  0.02</span></span>
<span id="cb221-44"><a href="forcats.html#cb221-44" aria-hidden="true"></a><span class="co">##</span></span>
<span id="cb221-45"><a href="forcats.html#cb221-45" aria-hidden="true"></a>f1 &lt;-<span class="st"> </span><span class="kw">factor</span>(letters[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>])</span>
<span id="cb221-46"><a href="forcats.html#cb221-46" aria-hidden="true"></a>f2 &lt;-<span class="st"> </span><span class="kw">factor</span>(letters[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">23</span>)])</span>
<span id="cb221-47"><a href="forcats.html#cb221-47" aria-hidden="true"></a>f1</span>
<span id="cb221-48"><a href="forcats.html#cb221-48" aria-hidden="true"></a><span class="co">## [1] a b c</span></span>
<span id="cb221-49"><a href="forcats.html#cb221-49" aria-hidden="true"></a><span class="co">## Levels: a b c</span></span>
<span id="cb221-50"><a href="forcats.html#cb221-50" aria-hidden="true"></a>f2</span>
<span id="cb221-51"><a href="forcats.html#cb221-51" aria-hidden="true"></a><span class="co">## [1] a b w</span></span>
<span id="cb221-52"><a href="forcats.html#cb221-52" aria-hidden="true"></a><span class="co">## Levels: a b w</span></span>
<span id="cb221-53"><a href="forcats.html#cb221-53" aria-hidden="true"></a><span class="kw">fct_c</span>(f1, f2)</span>
<span id="cb221-54"><a href="forcats.html#cb221-54" aria-hidden="true"></a><span class="co">## [1] a b c a b w</span></span>
<span id="cb221-55"><a href="forcats.html#cb221-55" aria-hidden="true"></a><span class="co">## Levels: a b c w</span></span></code></pre></div>
</div>
<div id="移除或增加部分類別水準" class="section level2" number="11.2">
<h2><span class="header-section-number">11.2</span> 移除或增加部分類別水準</h2>
<p>資料分析中常因抽樣 0 值, 而必須特別處理,
例如必須移除部分類別水準或是必須增加因子變數中的類別水準.
下列函式可以執行這些功能.</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="forcats.html#cb222-1" aria-hidden="true"></a><span class="kw">fct_drop</span>(f, only) <span class="co"># R baes  base::droplevels()</span></span>
<span id="cb222-2"><a href="forcats.html#cb222-2" aria-hidden="true"></a><span class="kw">fct_expand</span>(f, ...)</span>
<span id="cb222-3"><a href="forcats.html#cb222-3" aria-hidden="true"></a><span class="kw">fct_explicit_na</span>(f, <span class="dt">na_level =</span> <span class="st">&quot;(Missing)&quot;</span>)</span></code></pre></div>
<p>函式 <code>fct_drop()</code> 可以移除部分類別水準,
函式 <code>fct_expand()</code> 可以增加因子變數中的類別水準.
函式 <code>fct_explicit_na</code> 可以明確設性缺失值為 1 項類別水準.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="forcats.html#cb223-1" aria-hidden="true"></a>f &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;F&quot;</span>, <span class="st">&quot;M&quot;</span>), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;F&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;Other&quot;</span>))</span>
<span id="cb223-2"><a href="forcats.html#cb223-2" aria-hidden="true"></a>f</span>
<span id="cb223-3"><a href="forcats.html#cb223-3" aria-hidden="true"></a><span class="co">## [1] F M</span></span>
<span id="cb223-4"><a href="forcats.html#cb223-4" aria-hidden="true"></a><span class="co">## Levels: F M Other</span></span>
<span id="cb223-5"><a href="forcats.html#cb223-5" aria-hidden="true"></a><span class="kw">fct_drop</span>(f)</span>
<span id="cb223-6"><a href="forcats.html#cb223-6" aria-hidden="true"></a><span class="co">## [1] F M</span></span>
<span id="cb223-7"><a href="forcats.html#cb223-7" aria-hidden="true"></a><span class="co">## Levels: F M</span></span>
<span id="cb223-8"><a href="forcats.html#cb223-8" aria-hidden="true"></a><span class="co"># Set only to restrict which levels to drop</span></span>
<span id="cb223-9"><a href="forcats.html#cb223-9" aria-hidden="true"></a><span class="kw">fct_drop</span>(f, <span class="dt">only =</span> <span class="st">&quot;F&quot;</span>)</span>
<span id="cb223-10"><a href="forcats.html#cb223-10" aria-hidden="true"></a><span class="co">## [1] F M</span></span>
<span id="cb223-11"><a href="forcats.html#cb223-11" aria-hidden="true"></a><span class="co">## Levels: F M Other</span></span>
<span id="cb223-12"><a href="forcats.html#cb223-12" aria-hidden="true"></a><span class="kw">fct_drop</span>(f, <span class="dt">only =</span> <span class="st">&quot;Other&quot;</span>)</span>
<span id="cb223-13"><a href="forcats.html#cb223-13" aria-hidden="true"></a><span class="co">## [1] F M</span></span>
<span id="cb223-14"><a href="forcats.html#cb223-14" aria-hidden="true"></a><span class="co">## Levels: F M</span></span>
<span id="cb223-15"><a href="forcats.html#cb223-15" aria-hidden="true"></a><span class="co">## </span></span>
<span id="cb223-16"><a href="forcats.html#cb223-16" aria-hidden="true"></a><span class="kw">fct_expand</span>(f, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;T&quot;</span>)</span>
<span id="cb223-17"><a href="forcats.html#cb223-17" aria-hidden="true"></a><span class="co">## [1] F M</span></span>
<span id="cb223-18"><a href="forcats.html#cb223-18" aria-hidden="true"></a><span class="co">## Levels: F M Other B T</span></span>
<span id="cb223-19"><a href="forcats.html#cb223-19" aria-hidden="true"></a><span class="co">##</span></span>
<span id="cb223-20"><a href="forcats.html#cb223-20" aria-hidden="true"></a>f &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;F&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;T&quot;</span>, <span class="ot">NA</span>, <span class="ot">NA</span>))</span>
<span id="cb223-21"><a href="forcats.html#cb223-21" aria-hidden="true"></a>f</span>
<span id="cb223-22"><a href="forcats.html#cb223-22" aria-hidden="true"></a><span class="co">## [1] F    M    M    F    F    B    T    &lt;NA&gt; &lt;NA&gt;</span></span>
<span id="cb223-23"><a href="forcats.html#cb223-23" aria-hidden="true"></a><span class="co">## Levels: B F M T</span></span>
<span id="cb223-24"><a href="forcats.html#cb223-24" aria-hidden="true"></a><span class="kw">fct_explicit_na</span>(f)</span>
<span id="cb223-25"><a href="forcats.html#cb223-25" aria-hidden="true"></a><span class="co">## [1] F         M         M         F         F         B         T         (Missing)</span></span>
<span id="cb223-26"><a href="forcats.html#cb223-26" aria-hidden="true"></a><span class="co">## [9] (Missing)</span></span>
<span id="cb223-27"><a href="forcats.html#cb223-27" aria-hidden="true"></a><span class="co">## Levels: B F M T (Missing)</span></span>
<span id="cb223-28"><a href="forcats.html#cb223-28" aria-hidden="true"></a><span class="kw">fct_explicit_na</span>(f, <span class="dt">na_level =</span> <span class="st">&quot;Other&quot;</span>)</span>
<span id="cb223-29"><a href="forcats.html#cb223-29" aria-hidden="true"></a><span class="co">## [1] F     M     M     F     F     B     T     Other Other</span></span>
<span id="cb223-30"><a href="forcats.html#cb223-30" aria-hidden="true"></a><span class="co">## Levels: B F M T Other</span></span></code></pre></div>
</div>
<div id="改變類別水準函式" class="section level2" number="11.3">
<h2><span class="header-section-number">11.3</span> 改變類別水準函式</h2>
<p>因子變數中的類別水準的名稱呈現, 常常視需求而更改,
例如, <code>H</code> 改成 <code>High</code>, <code>F</code> 改成 <code>female</code> 等等.
函式 <code>fct_recode()</code> 可以改變的名稱呈現.</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="forcats.html#cb224-1" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;bear&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;dear&quot;</span>))</span>
<span id="cb224-2"><a href="forcats.html#cb224-2" aria-hidden="true"></a>x</span>
<span id="cb224-3"><a href="forcats.html#cb224-3" aria-hidden="true"></a><span class="co">## [1] apple  bear   banana dear  </span></span>
<span id="cb224-4"><a href="forcats.html#cb224-4" aria-hidden="true"></a><span class="co">## Levels: apple banana bear dear</span></span>
<span id="cb224-5"><a href="forcats.html#cb224-5" aria-hidden="true"></a><span class="kw">fct_recode</span>(x, <span class="dt">fruit =</span> <span class="st">&quot;apple&quot;</span>, <span class="dt">fruit =</span> <span class="st">&quot;banana&quot;</span>)</span>
<span id="cb224-6"><a href="forcats.html#cb224-6" aria-hidden="true"></a><span class="co">## [1] fruit bear  fruit dear </span></span>
<span id="cb224-7"><a href="forcats.html#cb224-7" aria-hidden="true"></a><span class="co">## Levels: fruit bear dear</span></span>
<span id="cb224-8"><a href="forcats.html#cb224-8" aria-hidden="true"></a><span class="co"># If you name the level NULL it will be removed</span></span>
<span id="cb224-9"><a href="forcats.html#cb224-9" aria-hidden="true"></a><span class="kw">fct_recode</span>(x, <span class="dt">NULL =</span> <span class="st">&quot;apple&quot;</span>, <span class="dt">fruit =</span> <span class="st">&quot;banana&quot;</span>)</span>
<span id="cb224-10"><a href="forcats.html#cb224-10" aria-hidden="true"></a><span class="co">## [1] &lt;NA&gt;  bear  fruit dear </span></span>
<span id="cb224-11"><a href="forcats.html#cb224-11" aria-hidden="true"></a><span class="co">## Levels: fruit bear dear</span></span>
<span id="cb224-12"><a href="forcats.html#cb224-12" aria-hidden="true"></a><span class="co"># When passing a named vector to rename levels use !!! to splice</span></span>
<span id="cb224-13"><a href="forcats.html#cb224-13" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;bear&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;dear&quot;</span>))</span>
<span id="cb224-14"><a href="forcats.html#cb224-14" aria-hidden="true"></a>levels &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">fruit =</span> <span class="st">&quot;apple&quot;</span>, <span class="dt">fruit =</span> <span class="st">&quot;banana&quot;</span>)</span>
<span id="cb224-15"><a href="forcats.html#cb224-15" aria-hidden="true"></a><span class="kw">fct_recode</span>(x, <span class="op">!!!</span>levels)</span>
<span id="cb224-16"><a href="forcats.html#cb224-16" aria-hidden="true"></a><span class="co">## [1] fruit bear  fruit dear </span></span>
<span id="cb224-17"><a href="forcats.html#cb224-17" aria-hidden="true"></a><span class="co">## Levels: fruit bear dear</span></span>
<span id="cb224-18"><a href="forcats.html#cb224-18" aria-hidden="true"></a><span class="co">##</span></span>
<span id="cb224-19"><a href="forcats.html#cb224-19" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;F&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;T&quot;</span>))</span>
<span id="cb224-20"><a href="forcats.html#cb224-20" aria-hidden="true"></a>x</span>
<span id="cb224-21"><a href="forcats.html#cb224-21" aria-hidden="true"></a><span class="co">## [1] F M M F F B T</span></span>
<span id="cb224-22"><a href="forcats.html#cb224-22" aria-hidden="true"></a><span class="co">## Levels: B F M T</span></span>
<span id="cb224-23"><a href="forcats.html#cb224-23" aria-hidden="true"></a><span class="kw">fct_recode</span>(x, <span class="dt">Male =</span> <span class="st">&quot;M&quot;</span>, <span class="dt">Female =</span> <span class="st">&quot;F&quot;</span>, <span class="dt">Other =</span> <span class="st">&quot;B&quot;</span>, <span class="dt">Other =</span> <span class="st">&quot;T&quot;</span>)</span>
<span id="cb224-24"><a href="forcats.html#cb224-24" aria-hidden="true"></a><span class="co">## [1] Female Male   Male   Female Female Other  Other </span></span>
<span id="cb224-25"><a href="forcats.html#cb224-25" aria-hidden="true"></a><span class="co">## Levels: Other Female Male</span></span></code></pre></div>
<p>函式 <code>fct_collapse()</code> 可以改變的名稱呈現,
將不同類別水準合併且更名.</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="forcats.html#cb225-1" aria-hidden="true"></a><span class="co">##</span></span>
<span id="cb225-2"><a href="forcats.html#cb225-2" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;F&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;T&quot;</span>))</span>
<span id="cb225-3"><a href="forcats.html#cb225-3" aria-hidden="true"></a>x</span>
<span id="cb225-4"><a href="forcats.html#cb225-4" aria-hidden="true"></a><span class="co">## [1] F M M F F B T</span></span>
<span id="cb225-5"><a href="forcats.html#cb225-5" aria-hidden="true"></a><span class="co">## Levels: B F M T</span></span>
<span id="cb225-6"><a href="forcats.html#cb225-6" aria-hidden="true"></a><span class="kw">fct_collapse</span>(x, <span class="dt">Biological =</span> <span class="kw">c</span>(<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>),</span>
<span id="cb225-7"><a href="forcats.html#cb225-7" aria-hidden="true"></a>             <span class="dt">Other =</span> <span class="st">&quot;B&quot;</span>, <span class="dt">Other =</span> <span class="st">&quot;T&quot;</span>)</span>
<span id="cb225-8"><a href="forcats.html#cb225-8" aria-hidden="true"></a><span class="co">## [1] Biological Biological Biological Biological Biological Other      Other     </span></span>
<span id="cb225-9"><a href="forcats.html#cb225-9" aria-hidden="true"></a><span class="co">## Levels: Other Biological</span></span></code></pre></div>
<p>函式 <code>fct_other()</code> 可將部分類別水準合併或移除.</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="forcats.html#cb226-1" aria-hidden="true"></a><span class="kw">fct_other</span>(f, keep, drop, <span class="dt">other_level =</span> <span class="st">&quot;Other&quot;</span>)<span class="st">`</span><span class="dt"> </span></span></code></pre></div>
<p>其中引數 <code>keep</code>, <code>drop</code> 保留或移除部分原有類別水準,
將其餘類別水準合併成 <code>other_level</code>.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="forcats.html#cb227-1" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">rep</span>(LETTERS[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>], <span class="dt">times =</span> <span class="dv">3</span>))</span>
<span id="cb227-2"><a href="forcats.html#cb227-2" aria-hidden="true"></a>x</span>
<span id="cb227-3"><a href="forcats.html#cb227-3" aria-hidden="true"></a><span class="co">##  [1] A B C D A B C D A B C D</span></span>
<span id="cb227-4"><a href="forcats.html#cb227-4" aria-hidden="true"></a><span class="co">## Levels: A B C D</span></span>
<span id="cb227-5"><a href="forcats.html#cb227-5" aria-hidden="true"></a><span class="kw">fct_other</span>(x, <span class="dt">keep =</span> <span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>))</span>
<span id="cb227-6"><a href="forcats.html#cb227-6" aria-hidden="true"></a><span class="co">##  [1] A     B     Other Other A     B     Other Other A     B     Other Other</span></span>
<span id="cb227-7"><a href="forcats.html#cb227-7" aria-hidden="true"></a><span class="co">## Levels: A B Other</span></span>
<span id="cb227-8"><a href="forcats.html#cb227-8" aria-hidden="true"></a><span class="kw">fct_other</span>(x, <span class="dt">drop =</span> <span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>), <span class="dt">other_level =</span> <span class="st">&quot;change&quot;</span>)</span>
<span id="cb227-9"><a href="forcats.html#cb227-9" aria-hidden="true"></a><span class="co">##  [1] change change C      D      change change C      D      change change C      D     </span></span>
<span id="cb227-10"><a href="forcats.html#cb227-10" aria-hidden="true"></a><span class="co">## Levels: C D change</span></span></code></pre></div>
</div>
<div id="改變或合併類別水準函式-fct_lump" class="section level2" number="11.4">
<h2><span class="header-section-number">11.4</span> 改變或合併類別水準函式 fct_lump()</h2>
<p>因子變數中的類別水準常常因頻率過低影響分析與推論,
常常常須要合併類別水準.
系列函式 <code>fct_lump()</code> 可將部分類別水準合併.</p>
<ul>
<li><code>fct_lump_min()</code>: 合併類別水準頻率計數低於設定的最小值.<br />
</li>
<li>`fct_lump_prop(): 合併類別水準相對頻率低於設定的最小值<br />
</li>
<li><code>fct_lump_n()</code>: 合併類別水準最多 n 種主要類別.</li>
<li><code>fct_lump_lowfreq()</code>: 合併類別水準, 且確保 <code>other</code> 類別的頻率仍是最低.
函式使用程式語言結構為</li>
</ul>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="forcats.html#cb228-1" aria-hidden="true"></a><span class="kw">fct_lump</span>(f, n, prop, <span class="dt">w =</span> <span class="ot">NULL</span>, <span class="dt">other_level =</span> <span class="st">&quot;Other&quot;</span>,</span>
<span id="cb228-2"><a href="forcats.html#cb228-2" aria-hidden="true"></a>         <span class="dt">ties.method =</span> <span class="kw">c</span>(<span class="st">&quot;min&quot;</span>, <span class="st">&quot;average&quot;</span>, <span class="st">&quot;first&quot;</span>, <span class="st">&quot;last&quot;</span>, <span class="st">&quot;random&quot;</span>, <span class="st">&quot;max&quot;</span>))</span>
<span id="cb228-3"><a href="forcats.html#cb228-3" aria-hidden="true"></a><span class="kw">fct_lump_min</span>(f, min, <span class="dt">w =</span> <span class="ot">NULL</span>, <span class="dt">other_level =</span> <span class="st">&quot;Other&quot;</span>)</span>
<span id="cb228-4"><a href="forcats.html#cb228-4" aria-hidden="true"></a><span class="kw">fct_lump_prop</span>(f, prop, <span class="dt">w =</span> <span class="ot">NULL</span>, <span class="dt">other_level =</span> <span class="st">&quot;Other&quot;</span>)</span>
<span id="cb228-5"><a href="forcats.html#cb228-5" aria-hidden="true"></a><span class="kw">fct_lump_n</span>(f, n, <span class="dt">w =</span> <span class="ot">NULL</span>, <span class="dt">other_level =</span> <span class="st">&quot;Other&quot;</span>,</span>
<span id="cb228-6"><a href="forcats.html#cb228-6" aria-hidden="true"></a>  <span class="dt">ties.method =</span> <span class="kw">c</span>(<span class="st">&quot;min&quot;</span>, <span class="st">&quot;average&quot;</span>, <span class="st">&quot;first&quot;</span>, <span class="st">&quot;last&quot;</span>, <span class="st">&quot;random&quot;</span>, <span class="st">&quot;max&quot;</span>))</span>
<span id="cb228-7"><a href="forcats.html#cb228-7" aria-hidden="true"></a><span class="kw">fct_lump_lowfreq</span>(f, <span class="dt">other_level =</span> <span class="st">&quot;Other&quot;</span>)</span></code></pre></div>
<p>其中引數 <code>f</code> 為因子向量,
<code>n</code> 設定最多 n 種主要類別,
<code>prop</code> 設定正值百分率, 合併小於 <code>prop</code> 的類別,
設定負值百分率, 合併大於 <code>prop</code> 的類別.
<code>w</code> 設定權重.
<code>other_level</code> 設定合併後的類別名稱.
<code>ties.method</code> 處理相同排序方式.
<code>min</code> 保留至少出現 min 次類別.</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="forcats.html#cb229-1" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">rep</span>(LETTERS[<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>], <span class="dt">times =</span> <span class="kw">c</span>(<span class="dv">40</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">27</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>)))</span>
<span id="cb229-2"><a href="forcats.html#cb229-2" aria-hidden="true"></a>x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">table</span>()</span>
<span id="cb229-3"><a href="forcats.html#cb229-3" aria-hidden="true"></a><span class="co">## .</span></span>
<span id="cb229-4"><a href="forcats.html#cb229-4" aria-hidden="true"></a><span class="co">##  A  B  C  D  E  F  G  H  I </span></span>
<span id="cb229-5"><a href="forcats.html#cb229-5" aria-hidden="true"></a><span class="co">## 40 10  5 27  1  1  1  1  1</span></span>
<span id="cb229-6"><a href="forcats.html#cb229-6" aria-hidden="true"></a>x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">fct_lump_n</span>(<span class="dv">3</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">table</span>()</span>
<span id="cb229-7"><a href="forcats.html#cb229-7" aria-hidden="true"></a><span class="co">## .</span></span>
<span id="cb229-8"><a href="forcats.html#cb229-8" aria-hidden="true"></a><span class="co">##     A     B     D Other </span></span>
<span id="cb229-9"><a href="forcats.html#cb229-9" aria-hidden="true"></a><span class="co">##    40    10    27    10</span></span>
<span id="cb229-10"><a href="forcats.html#cb229-10" aria-hidden="true"></a>x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">fct_lump_prop</span>(<span class="fl">0.10</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">table</span>()</span>
<span id="cb229-11"><a href="forcats.html#cb229-11" aria-hidden="true"></a><span class="co">## .</span></span>
<span id="cb229-12"><a href="forcats.html#cb229-12" aria-hidden="true"></a><span class="co">##     A     B     D Other </span></span>
<span id="cb229-13"><a href="forcats.html#cb229-13" aria-hidden="true"></a><span class="co">##    40    10    27    10</span></span>
<span id="cb229-14"><a href="forcats.html#cb229-14" aria-hidden="true"></a>x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">fct_lump_min</span>(<span class="dv">5</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">table</span>()</span>
<span id="cb229-15"><a href="forcats.html#cb229-15" aria-hidden="true"></a><span class="co">## .</span></span>
<span id="cb229-16"><a href="forcats.html#cb229-16" aria-hidden="true"></a><span class="co">##     A     B     C     D Other </span></span>
<span id="cb229-17"><a href="forcats.html#cb229-17" aria-hidden="true"></a><span class="co">##    40    10     5    27     5</span></span>
<span id="cb229-18"><a href="forcats.html#cb229-18" aria-hidden="true"></a>x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">fct_lump_lowfreq</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">table</span>()</span>
<span id="cb229-19"><a href="forcats.html#cb229-19" aria-hidden="true"></a><span class="co">## .</span></span>
<span id="cb229-20"><a href="forcats.html#cb229-20" aria-hidden="true"></a><span class="co">##     A     D Other </span></span>
<span id="cb229-21"><a href="forcats.html#cb229-21" aria-hidden="true"></a><span class="co">##    40    27    20</span></span>
<span id="cb229-22"><a href="forcats.html#cb229-22" aria-hidden="true"></a><span class="co">##</span></span>
<span id="cb229-23"><a href="forcats.html#cb229-23" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb229-24"><a href="forcats.html#cb229-24" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">factor</span>(letters[<span class="kw">rpois</span>(<span class="dv">50</span>, <span class="dv">5</span>)])</span>
<span id="cb229-25"><a href="forcats.html#cb229-25" aria-hidden="true"></a>x</span>
<span id="cb229-26"><a href="forcats.html#cb229-26" aria-hidden="true"></a><span class="co">##  [1] d g d h i b e h e e i e f e b h c b d i h f f k f f e e d c i h f g a e f c d c c d</span></span>
<span id="cb229-27"><a href="forcats.html#cb229-27" aria-hidden="true"></a><span class="co">## [43] d d c c c e d g</span></span>
<span id="cb229-28"><a href="forcats.html#cb229-28" aria-hidden="true"></a><span class="co">## Levels: a b c d e f g h i k</span></span>
<span id="cb229-29"><a href="forcats.html#cb229-29" aria-hidden="true"></a><span class="kw">table</span>(x)</span>
<span id="cb229-30"><a href="forcats.html#cb229-30" aria-hidden="true"></a><span class="co">## x</span></span>
<span id="cb229-31"><a href="forcats.html#cb229-31" aria-hidden="true"></a><span class="co">## a b c d e f g h i k </span></span>
<span id="cb229-32"><a href="forcats.html#cb229-32" aria-hidden="true"></a><span class="co">## 1 3 8 9 9 7 3 5 4 1</span></span>
<span id="cb229-33"><a href="forcats.html#cb229-33" aria-hidden="true"></a><span class="kw">table</span>(<span class="kw">fct_lump_lowfreq</span>(x))</span>
<span id="cb229-34"><a href="forcats.html#cb229-34" aria-hidden="true"></a><span class="co">## </span></span>
<span id="cb229-35"><a href="forcats.html#cb229-35" aria-hidden="true"></a><span class="co">##     b     c     d     e     f     g     h     i Other </span></span>
<span id="cb229-36"><a href="forcats.html#cb229-36" aria-hidden="true"></a><span class="co">##     3     8     9     9     7     3     5     4     2</span></span>
<span id="cb229-37"><a href="forcats.html#cb229-37" aria-hidden="true"></a><span class="co">## Use positive values to collapse the rarest</span></span>
<span id="cb229-38"><a href="forcats.html#cb229-38" aria-hidden="true"></a><span class="kw">fct_lump_n</span>(x, <span class="dt">n =</span> <span class="dv">3</span>)</span>
<span id="cb229-39"><a href="forcats.html#cb229-39" aria-hidden="true"></a><span class="co">##  [1] d     Other d     Other Other Other e     Other e     e     Other e     Other e    </span></span>
<span id="cb229-40"><a href="forcats.html#cb229-40" aria-hidden="true"></a><span class="co">## [15] Other Other c     Other d     Other Other Other Other Other Other Other e     e    </span></span>
<span id="cb229-41"><a href="forcats.html#cb229-41" aria-hidden="true"></a><span class="co">## [29] d     c     Other Other Other Other Other e     Other c     d     c     c     d    </span></span>
<span id="cb229-42"><a href="forcats.html#cb229-42" aria-hidden="true"></a><span class="co">## [43] d     d     c     c     c     e     d     Other</span></span>
<span id="cb229-43"><a href="forcats.html#cb229-43" aria-hidden="true"></a><span class="co">## Levels: c d e Other</span></span>
<span id="cb229-44"><a href="forcats.html#cb229-44" aria-hidden="true"></a><span class="kw">fct_lump_prop</span>(x, <span class="dt">prop =</span> <span class="fl">0.1</span>)</span>
<span id="cb229-45"><a href="forcats.html#cb229-45" aria-hidden="true"></a><span class="co">##  [1] d     Other d     Other Other Other e     Other e     e     Other e     f     e    </span></span>
<span id="cb229-46"><a href="forcats.html#cb229-46" aria-hidden="true"></a><span class="co">## [15] Other Other c     Other d     Other Other f     f     Other f     f     e     e    </span></span>
<span id="cb229-47"><a href="forcats.html#cb229-47" aria-hidden="true"></a><span class="co">## [29] d     c     Other Other f     Other Other e     f     c     d     c     c     d    </span></span>
<span id="cb229-48"><a href="forcats.html#cb229-48" aria-hidden="true"></a><span class="co">## [43] d     d     c     c     c     e     d     Other</span></span>
<span id="cb229-49"><a href="forcats.html#cb229-49" aria-hidden="true"></a><span class="co">## Levels: c d e f Other</span></span>
<span id="cb229-50"><a href="forcats.html#cb229-50" aria-hidden="true"></a><span class="co">## Use negative values to collapse the most common</span></span>
<span id="cb229-51"><a href="forcats.html#cb229-51" aria-hidden="true"></a><span class="kw">fct_lump_n</span>(x, <span class="dt">n =</span> <span class="dv">-3</span>)</span>
<span id="cb229-52"><a href="forcats.html#cb229-52" aria-hidden="true"></a><span class="co">##  [1] Other g     Other Other Other b     Other Other Other Other Other Other Other Other</span></span>
<span id="cb229-53"><a href="forcats.html#cb229-53" aria-hidden="true"></a><span class="co">## [15] b     Other Other b     Other Other Other Other Other k     Other Other Other Other</span></span>
<span id="cb229-54"><a href="forcats.html#cb229-54" aria-hidden="true"></a><span class="co">## [29] Other Other Other Other Other g     a     Other Other Other Other Other Other Other</span></span>
<span id="cb229-55"><a href="forcats.html#cb229-55" aria-hidden="true"></a><span class="co">## [43] Other Other Other Other Other Other Other g    </span></span>
<span id="cb229-56"><a href="forcats.html#cb229-56" aria-hidden="true"></a><span class="co">## Levels: a b g k Other</span></span>
<span id="cb229-57"><a href="forcats.html#cb229-57" aria-hidden="true"></a><span class="kw">fct_lump_prop</span>(x, <span class="dt">prop =</span> <span class="fl">-0.1</span>)</span>
<span id="cb229-58"><a href="forcats.html#cb229-58" aria-hidden="true"></a><span class="co">##  [1] Other g     Other h     i     b     Other h     Other Other i     Other Other Other</span></span>
<span id="cb229-59"><a href="forcats.html#cb229-59" aria-hidden="true"></a><span class="co">## [15] b     h     Other b     Other i     h     Other Other k     Other Other Other Other</span></span>
<span id="cb229-60"><a href="forcats.html#cb229-60" aria-hidden="true"></a><span class="co">## [29] Other Other i     h     Other g     a     Other Other Other Other Other Other Other</span></span>
<span id="cb229-61"><a href="forcats.html#cb229-61" aria-hidden="true"></a><span class="co">## [43] Other Other Other Other Other Other Other g    </span></span>
<span id="cb229-62"><a href="forcats.html#cb229-62" aria-hidden="true"></a><span class="co">## Levels: a b g h i k Other</span></span>
<span id="cb229-63"><a href="forcats.html#cb229-63" aria-hidden="true"></a><span class="co">## Use weighted frequencies</span></span>
<span id="cb229-64"><a href="forcats.html#cb229-64" aria-hidden="true"></a>w &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="dv">2</span>, <span class="dv">25</span>), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">25</span>))</span>
<span id="cb229-65"><a href="forcats.html#cb229-65" aria-hidden="true"></a><span class="kw">fct_lump_n</span>(x, <span class="dt">n =</span> <span class="dv">5</span>, <span class="dt">w =</span> w)</span>
<span id="cb229-66"><a href="forcats.html#cb229-66" aria-hidden="true"></a><span class="co">##  [1] d     Other d     h     Other Other e     h     e     e     Other e     f     e    </span></span>
<span id="cb229-67"><a href="forcats.html#cb229-67" aria-hidden="true"></a><span class="co">## [15] Other h     c     Other d     Other h     f     f     Other f     f     e     e    </span></span>
<span id="cb229-68"><a href="forcats.html#cb229-68" aria-hidden="true"></a><span class="co">## [29] d     c     Other h     f     Other Other e     f     c     d     c     c     d    </span></span>
<span id="cb229-69"><a href="forcats.html#cb229-69" aria-hidden="true"></a><span class="co">## [43] d     d     c     c     c     e     d     Other</span></span>
<span id="cb229-70"><a href="forcats.html#cb229-70" aria-hidden="true"></a><span class="co">## Levels: c d e f h Other</span></span>
<span id="cb229-71"><a href="forcats.html#cb229-71" aria-hidden="true"></a><span class="kw">fct_lump_n</span>(x, <span class="dt">n =</span> <span class="dv">6</span>)</span>
<span id="cb229-72"><a href="forcats.html#cb229-72" aria-hidden="true"></a><span class="co">##  [1] d     Other d     h     i     Other e     h     e     e     i     e     f     e    </span></span>
<span id="cb229-73"><a href="forcats.html#cb229-73" aria-hidden="true"></a><span class="co">## [15] Other h     c     Other d     i     h     f     f     Other f     f     e     e    </span></span>
<span id="cb229-74"><a href="forcats.html#cb229-74" aria-hidden="true"></a><span class="co">## [29] d     c     i     h     f     Other Other e     f     c     d     c     c     d    </span></span>
<span id="cb229-75"><a href="forcats.html#cb229-75" aria-hidden="true"></a><span class="co">## [43] d     d     c     c     c     e     d     Other</span></span>
<span id="cb229-76"><a href="forcats.html#cb229-76" aria-hidden="true"></a><span class="co">## Levels: c d e f h i Other</span></span>
<span id="cb229-77"><a href="forcats.html#cb229-77" aria-hidden="true"></a><span class="kw">fct_lump_n</span>(x, <span class="dt">n =</span> <span class="dv">6</span>, <span class="dt">ties.method =</span> <span class="st">&quot;max&quot;</span>)</span>
<span id="cb229-78"><a href="forcats.html#cb229-78" aria-hidden="true"></a><span class="co">##  [1] d     Other d     h     i     Other e     h     e     e     i     e     f     e    </span></span>
<span id="cb229-79"><a href="forcats.html#cb229-79" aria-hidden="true"></a><span class="co">## [15] Other h     c     Other d     i     h     f     f     Other f     f     e     e    </span></span>
<span id="cb229-80"><a href="forcats.html#cb229-80" aria-hidden="true"></a><span class="co">## [29] d     c     i     h     f     Other Other e     f     c     d     c     c     d    </span></span>
<span id="cb229-81"><a href="forcats.html#cb229-81" aria-hidden="true"></a><span class="co">## [43] d     d     c     c     c     e     d     Other</span></span>
<span id="cb229-82"><a href="forcats.html#cb229-82" aria-hidden="true"></a><span class="co">## Levels: c d e f h i Other</span></span>
<span id="cb229-83"><a href="forcats.html#cb229-83" aria-hidden="true"></a><span class="co">## Use fct_lump_min() to lump together all levels with fewer than `n` values</span></span>
<span id="cb229-84"><a href="forcats.html#cb229-84" aria-hidden="true"></a><span class="kw">table</span>(<span class="kw">fct_lump_min</span>(x, <span class="dt">min =</span> <span class="dv">10</span>))</span>
<span id="cb229-85"><a href="forcats.html#cb229-85" aria-hidden="true"></a><span class="co">## </span></span>
<span id="cb229-86"><a href="forcats.html#cb229-86" aria-hidden="true"></a><span class="co">## Other </span></span>
<span id="cb229-87"><a href="forcats.html#cb229-87" aria-hidden="true"></a><span class="co">##    50</span></span></code></pre></div>
<p>以第 5 章中 <strong>退伍軍人肺癌臨床試驗</strong> 資料 (<strong>survVATrial.csv</strong>) 為例,
細胞型態 <code>cellcode</code> 有 4 種類別.
將類別水準合併成 2 種主要類別, 其餘類別合併.</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="forcats.html#cb230-1" aria-hidden="true"></a>dd &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;./Data/survVATrial.csv&quot;</span>,</span>
<span id="cb230-2"><a href="forcats.html#cb230-2" aria-hidden="true"></a>                 <span class="dt">header =</span> <span class="ot">TRUE</span>,</span>
<span id="cb230-3"><a href="forcats.html#cb230-3" aria-hidden="true"></a>                 <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>,</span>
<span id="cb230-4"><a href="forcats.html#cb230-4" aria-hidden="true"></a>                 <span class="dt">quote =</span> <span class="st">&quot;</span><span class="ch">\&quot;</span><span class="st">&#39;&quot;</span>,</span>
<span id="cb230-5"><a href="forcats.html#cb230-5" aria-hidden="true"></a>                 <span class="dt">dec =</span> <span class="st">&quot;.&quot;</span>,</span>
<span id="cb230-6"><a href="forcats.html#cb230-6" aria-hidden="true"></a>                 <span class="dt">row.names =</span> <span class="ot">NULL</span>,</span>
<span id="cb230-7"><a href="forcats.html#cb230-7" aria-hidden="true"></a>                 <span class="co"># col.names,</span></span>
<span id="cb230-8"><a href="forcats.html#cb230-8" aria-hidden="true"></a>                 <span class="dt">as.is =</span> <span class="ot">TRUE</span>,</span>
<span id="cb230-9"><a href="forcats.html#cb230-9" aria-hidden="true"></a>                 <span class="co"># as.is = !stringsAsFactors,</span></span>
<span id="cb230-10"><a href="forcats.html#cb230-10" aria-hidden="true"></a>                 <span class="dt">na.strings =</span> <span class="kw">c</span>(<span class="st">&quot;.&quot;</span>, <span class="st">&quot;NA&quot;</span>))</span>
<span id="cb230-11"><a href="forcats.html#cb230-11" aria-hidden="true"></a><span class="kw">head</span>(dd)</span>
<span id="cb230-12"><a href="forcats.html#cb230-12" aria-hidden="true"></a><span class="co">##   treat cellcode time censor diagtime kps age prior</span></span>
<span id="cb230-13"><a href="forcats.html#cb230-13" aria-hidden="true"></a><span class="co">## 1     0        1   72      1       60   7  69     0</span></span>
<span id="cb230-14"><a href="forcats.html#cb230-14" aria-hidden="true"></a><span class="co">## 2     0        1  411      1       70   5  64    10</span></span>
<span id="cb230-15"><a href="forcats.html#cb230-15" aria-hidden="true"></a><span class="co">## 3     0        1  228      1       60   3  38     0</span></span>
<span id="cb230-16"><a href="forcats.html#cb230-16" aria-hidden="true"></a><span class="co">## 4     0        1  126      1       60   9  63    10</span></span>
<span id="cb230-17"><a href="forcats.html#cb230-17" aria-hidden="true"></a><span class="co">## 5     0        1  118      1       70  11  65    10</span></span>
<span id="cb230-18"><a href="forcats.html#cb230-18" aria-hidden="true"></a><span class="co">## 6     0        1   10      1       20   5  49     0</span></span>
<span id="cb230-19"><a href="forcats.html#cb230-19" aria-hidden="true"></a><span class="kw">str</span>(dd)</span>
<span id="cb230-20"><a href="forcats.html#cb230-20" aria-hidden="true"></a><span class="co">## &#39;data.frame&#39;:    137 obs. of  8 variables:</span></span>
<span id="cb230-21"><a href="forcats.html#cb230-21" aria-hidden="true"></a><span class="co">##  $ treat   : int  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span id="cb230-22"><a href="forcats.html#cb230-22" aria-hidden="true"></a><span class="co">##  $ cellcode: int  1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span id="cb230-23"><a href="forcats.html#cb230-23" aria-hidden="true"></a><span class="co">##  $ time    : int  72 411 228 126 118 10 82 110 314 100 ...</span></span>
<span id="cb230-24"><a href="forcats.html#cb230-24" aria-hidden="true"></a><span class="co">##  $ censor  : int  1 1 1 1 1 1 1 1 1 0 ...</span></span>
<span id="cb230-25"><a href="forcats.html#cb230-25" aria-hidden="true"></a><span class="co">##  $ diagtime: int  60 70 60 60 70 20 40 80 50 70 ...</span></span>
<span id="cb230-26"><a href="forcats.html#cb230-26" aria-hidden="true"></a><span class="co">##  $ kps     : int  7 5 3 9 11 5 10 29 18 6 ...</span></span>
<span id="cb230-27"><a href="forcats.html#cb230-27" aria-hidden="true"></a><span class="co">##  $ age     : int  69 64 38 63 65 49 69 68 43 70 ...</span></span>
<span id="cb230-28"><a href="forcats.html#cb230-28" aria-hidden="true"></a><span class="co">##  $ prior   : int  0 10 0 10 10 0 10 0 0 0 ...</span></span>
<span id="cb230-29"><a href="forcats.html#cb230-29" aria-hidden="true"></a>dd<span class="op">$</span>treat &lt;-<span class="st"> </span><span class="kw">factor</span>(dd<span class="op">$</span>treat, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;placebo&quot;</span>, <span class="st">&quot;test&quot;</span>))</span>
<span id="cb230-30"><a href="forcats.html#cb230-30" aria-hidden="true"></a>dd<span class="op">$</span>cellcode &lt;-<span class="st"> </span><span class="kw">factor</span>(dd<span class="op">$</span>cellcode, </span>
<span id="cb230-31"><a href="forcats.html#cb230-31" aria-hidden="true"></a>                      <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;squamous&quot;</span>, <span class="st">&quot;small&quot;</span>, <span class="st">&quot;adeno&quot;</span>, <span class="st">&quot;large&quot;</span>))</span>
<span id="cb230-32"><a href="forcats.html#cb230-32" aria-hidden="true"></a>dd<span class="op">$</span>censor &lt;-<span class="st"> </span><span class="kw">factor</span>(dd<span class="op">$</span>censor, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;survival&quot;</span>, <span class="st">&quot;dead&quot;</span>))</span>
<span id="cb230-33"><a href="forcats.html#cb230-33" aria-hidden="true"></a>dd<span class="op">$</span>prior &lt;-<span class="st"> </span><span class="kw">factor</span>(dd<span class="op">$</span>prior, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;no&quot;</span>, <span class="st">&quot;yes&quot;</span>))</span>
<span id="cb230-34"><a href="forcats.html#cb230-34" aria-hidden="true"></a><span class="kw">head</span>(dd)</span>
<span id="cb230-35"><a href="forcats.html#cb230-35" aria-hidden="true"></a><span class="co">##     treat cellcode time censor diagtime kps age prior</span></span>
<span id="cb230-36"><a href="forcats.html#cb230-36" aria-hidden="true"></a><span class="co">## 1 placebo squamous   72   dead       60   7  69    no</span></span>
<span id="cb230-37"><a href="forcats.html#cb230-37" aria-hidden="true"></a><span class="co">## 2 placebo squamous  411   dead       70   5  64   yes</span></span>
<span id="cb230-38"><a href="forcats.html#cb230-38" aria-hidden="true"></a><span class="co">## 3 placebo squamous  228   dead       60   3  38    no</span></span>
<span id="cb230-39"><a href="forcats.html#cb230-39" aria-hidden="true"></a><span class="co">## 4 placebo squamous  126   dead       60   9  63   yes</span></span>
<span id="cb230-40"><a href="forcats.html#cb230-40" aria-hidden="true"></a><span class="co">## 5 placebo squamous  118   dead       70  11  65   yes</span></span>
<span id="cb230-41"><a href="forcats.html#cb230-41" aria-hidden="true"></a><span class="co">## 6 placebo squamous   10   dead       20   5  49    no</span></span>
<span id="cb230-42"><a href="forcats.html#cb230-42" aria-hidden="true"></a><span class="kw">str</span>(dd)</span>
<span id="cb230-43"><a href="forcats.html#cb230-43" aria-hidden="true"></a><span class="co">## &#39;data.frame&#39;:    137 obs. of  8 variables:</span></span>
<span id="cb230-44"><a href="forcats.html#cb230-44" aria-hidden="true"></a><span class="co">##  $ treat   : Factor w/ 2 levels &quot;placebo&quot;,&quot;test&quot;: 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span id="cb230-45"><a href="forcats.html#cb230-45" aria-hidden="true"></a><span class="co">##  $ cellcode: Factor w/ 4 levels &quot;squamous&quot;,&quot;small&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span id="cb230-46"><a href="forcats.html#cb230-46" aria-hidden="true"></a><span class="co">##  $ time    : int  72 411 228 126 118 10 82 110 314 100 ...</span></span>
<span id="cb230-47"><a href="forcats.html#cb230-47" aria-hidden="true"></a><span class="co">##  $ censor  : Factor w/ 2 levels &quot;survival&quot;,&quot;dead&quot;: 2 2 2 2 2 2 2 2 2 1 ...</span></span>
<span id="cb230-48"><a href="forcats.html#cb230-48" aria-hidden="true"></a><span class="co">##  $ diagtime: int  60 70 60 60 70 20 40 80 50 70 ...</span></span>
<span id="cb230-49"><a href="forcats.html#cb230-49" aria-hidden="true"></a><span class="co">##  $ kps     : int  7 5 3 9 11 5 10 29 18 6 ...</span></span>
<span id="cb230-50"><a href="forcats.html#cb230-50" aria-hidden="true"></a><span class="co">##  $ age     : int  69 64 38 63 65 49 69 68 43 70 ...</span></span>
<span id="cb230-51"><a href="forcats.html#cb230-51" aria-hidden="true"></a><span class="co">##  $ prior   : Factor w/ 2 levels &quot;no&quot;,&quot;yes&quot;: 1 2 1 2 2 1 2 1 1 1 ...</span></span>
<span id="cb230-52"><a href="forcats.html#cb230-52" aria-hidden="true"></a><span class="co">##</span></span>
<span id="cb230-53"><a href="forcats.html#cb230-53" aria-hidden="true"></a>dd <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(cellcode) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">table</span>()</span>
<span id="cb230-54"><a href="forcats.html#cb230-54" aria-hidden="true"></a><span class="co">## .</span></span>
<span id="cb230-55"><a href="forcats.html#cb230-55" aria-hidden="true"></a><span class="co">## squamous    small    adeno    large </span></span>
<span id="cb230-56"><a href="forcats.html#cb230-56" aria-hidden="true"></a><span class="co">##       35       48       27       27</span></span>
<span id="cb230-57"><a href="forcats.html#cb230-57" aria-hidden="true"></a>dd <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(cellcode) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb230-58"><a href="forcats.html#cb230-58" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">cellcode =</span> <span class="kw">fct_lump</span>(cellcode, <span class="dt">n =</span> <span class="dv">1</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb230-59"><a href="forcats.html#cb230-59" aria-hidden="true"></a><span class="st">  </span><span class="kw">table</span>()</span>
<span id="cb230-60"><a href="forcats.html#cb230-60" aria-hidden="true"></a><span class="co">## .</span></span>
<span id="cb230-61"><a href="forcats.html#cb230-61" aria-hidden="true"></a><span class="co">## small Other </span></span>
<span id="cb230-62"><a href="forcats.html#cb230-62" aria-hidden="true"></a><span class="co">##    48    89</span></span></code></pre></div>
</div>
<div id="類別水準的頻率排序函式-fct_infreq" class="section level2" number="11.5">
<h2><span class="header-section-number">11.5</span> 類別水準的頻率排序函式 fct_infreq()</h2>
<p>函式系列 <code>fct_infreq()</code> 可將類別水準的頻率排序記錄.</p>
<ul>
<li><code>fct_inorder()</code>: 依照類別水準出現的次序排序.<br />
</li>
<li><code>fct_infreq()</code>: 依照類別水準的頻率排序 (由多到少).<br />
</li>
<li><code>fct_inseq()</code>: 依照類別水準的儲存數值排序.</li>
</ul>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="forcats.html#cb231-1" aria-hidden="true"></a>f &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;b&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;c&quot;</span>))</span>
<span id="cb231-2"><a href="forcats.html#cb231-2" aria-hidden="true"></a>f</span>
<span id="cb231-3"><a href="forcats.html#cb231-3" aria-hidden="true"></a><span class="co">## [1] b b a c c c</span></span>
<span id="cb231-4"><a href="forcats.html#cb231-4" aria-hidden="true"></a><span class="co">## Levels: a b c</span></span>
<span id="cb231-5"><a href="forcats.html#cb231-5" aria-hidden="true"></a><span class="kw">fct_inorder</span>(f)</span>
<span id="cb231-6"><a href="forcats.html#cb231-6" aria-hidden="true"></a><span class="co">## [1] b b a c c c</span></span>
<span id="cb231-7"><a href="forcats.html#cb231-7" aria-hidden="true"></a><span class="co">## Levels: b a c</span></span>
<span id="cb231-8"><a href="forcats.html#cb231-8" aria-hidden="true"></a><span class="kw">fct_infreq</span>(f)</span>
<span id="cb231-9"><a href="forcats.html#cb231-9" aria-hidden="true"></a><span class="co">## [1] b b a c c c</span></span>
<span id="cb231-10"><a href="forcats.html#cb231-10" aria-hidden="true"></a><span class="co">## Levels: c b a</span></span>
<span id="cb231-11"><a href="forcats.html#cb231-11" aria-hidden="true"></a><span class="co">##</span></span>
<span id="cb231-12"><a href="forcats.html#cb231-12" aria-hidden="true"></a>f &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;3&quot;</span>, <span class="st">&quot;2&quot;</span>, <span class="st">&quot;1&quot;</span>))</span>
<span id="cb231-13"><a href="forcats.html#cb231-13" aria-hidden="true"></a>f</span>
<span id="cb231-14"><a href="forcats.html#cb231-14" aria-hidden="true"></a><span class="co">## [1] 1 2 3</span></span>
<span id="cb231-15"><a href="forcats.html#cb231-15" aria-hidden="true"></a><span class="co">## Levels: 3 2 1</span></span>
<span id="cb231-16"><a href="forcats.html#cb231-16" aria-hidden="true"></a><span class="co">#&gt; Levels: 3 2 1</span></span>
<span id="cb231-17"><a href="forcats.html#cb231-17" aria-hidden="true"></a><span class="kw">fct_inseq</span>(f)</span>
<span id="cb231-18"><a href="forcats.html#cb231-18" aria-hidden="true"></a><span class="co">## [1] 1 2 3</span></span>
<span id="cb231-19"><a href="forcats.html#cb231-19" aria-hidden="true"></a><span class="co">## Levels: 1 2 3</span></span></code></pre></div>
<p>以第 5 章中 <strong>退伍軍人肺癌臨床試驗</strong> 資料 (<strong>survVATrial.csv</strong>) 為例,
細胞型態 <code>cellcode</code> 有 4 種類別.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="forcats.html#cb232-1" aria-hidden="true"></a>dd <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(cellcode) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">table</span>()</span>
<span id="cb232-2"><a href="forcats.html#cb232-2" aria-hidden="true"></a><span class="co">## .</span></span>
<span id="cb232-3"><a href="forcats.html#cb232-3" aria-hidden="true"></a><span class="co">## squamous    small    adeno    large </span></span>
<span id="cb232-4"><a href="forcats.html#cb232-4" aria-hidden="true"></a><span class="co">##       35       48       27       27</span></span>
<span id="cb232-5"><a href="forcats.html#cb232-5" aria-hidden="true"></a><span class="co">## fct_inorder()</span></span>
<span id="cb232-6"><a href="forcats.html#cb232-6" aria-hidden="true"></a>dd <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(cellcode) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb232-7"><a href="forcats.html#cb232-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">cellcode =</span> <span class="kw">fct_inorder</span>(cellcode)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb232-8"><a href="forcats.html#cb232-8" aria-hidden="true"></a><span class="st">  </span><span class="kw">table</span>()</span>
<span id="cb232-9"><a href="forcats.html#cb232-9" aria-hidden="true"></a><span class="co">## .</span></span>
<span id="cb232-10"><a href="forcats.html#cb232-10" aria-hidden="true"></a><span class="co">## squamous    small    adeno    large </span></span>
<span id="cb232-11"><a href="forcats.html#cb232-11" aria-hidden="true"></a><span class="co">##       35       48       27       27</span></span>
<span id="cb232-12"><a href="forcats.html#cb232-12" aria-hidden="true"></a><span class="co">## fct_infreq()</span></span>
<span id="cb232-13"><a href="forcats.html#cb232-13" aria-hidden="true"></a>dd <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(cellcode) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb232-14"><a href="forcats.html#cb232-14" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">cellcode =</span> <span class="kw">fct_infreq</span>(cellcode)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb232-15"><a href="forcats.html#cb232-15" aria-hidden="true"></a><span class="st">  </span><span class="kw">table</span>()</span>
<span id="cb232-16"><a href="forcats.html#cb232-16" aria-hidden="true"></a><span class="co">## .</span></span>
<span id="cb232-17"><a href="forcats.html#cb232-17" aria-hidden="true"></a><span class="co">##    small squamous    adeno    large </span></span>
<span id="cb232-18"><a href="forcats.html#cb232-18" aria-hidden="true"></a><span class="co">##       48       35       27       27</span></span>
<span id="cb232-19"><a href="forcats.html#cb232-19" aria-hidden="true"></a><span class="co">## fct_inseq()</span></span>
<span id="cb232-20"><a href="forcats.html#cb232-20" aria-hidden="true"></a>dd <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(cellcode) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb232-21"><a href="forcats.html#cb232-21" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">cellcode =</span> <span class="kw">fct_inseq</span>(<span class="kw">factor</span>(<span class="kw">as.numeric</span>(cellcode)))) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">table</span>()</span>
<span id="cb232-22"><a href="forcats.html#cb232-22" aria-hidden="true"></a><span class="co">## .</span></span>
<span id="cb232-23"><a href="forcats.html#cb232-23" aria-hidden="true"></a><span class="co">##  1  2  3  4 </span></span>
<span id="cb232-24"><a href="forcats.html#cb232-24" aria-hidden="true"></a><span class="co">## 35 48 27 27</span></span></code></pre></div>
<p>以第 5 章中 <strong>退伍軍人肺癌臨床試驗</strong> 資料 (<strong>survVATrial.csv</strong>) 為例,
細胞型態 <code>cellcode</code> 有 4 種類別.
首先繪製長條圖.</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="forcats.html#cb233-1" aria-hidden="true"></a><span class="co">## barplot</span></span>
<span id="cb233-2"><a href="forcats.html#cb233-2" aria-hidden="true"></a><span class="kw">ggplot</span>(dd, <span class="kw">aes</span>(<span class="dt">x =</span> cellcode)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb233-3"><a href="forcats.html#cb233-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb233-4"><a href="forcats.html#cb233-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">coord_flip</span>()</span></code></pre></div>
<p><img src="r4biost_files/figure-html/unnamed-chunk-162-1.png" width="432" />
圖中的類別出現並非照類別水準的頻率順序,
函式 <code>fct_infreq()</code> 可將類別水準的頻率排序記錄.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="forcats.html#cb234-1" aria-hidden="true"></a><span class="kw">ggplot</span>(dd, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">fct_infreq</span>(cellcode))) <span class="op">+</span><span class="st"> </span></span>
<span id="cb234-2"><a href="forcats.html#cb234-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb234-3"><a href="forcats.html#cb234-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">coord_flip</span>()</span></code></pre></div>
<p><img src="r4biost_files/figure-html/unnamed-chunk-163-1.png" width="432" /></p>
</div>
<div id="依照其他變數將類別重新排序函式-fct_reorder" class="section level2" number="11.6">
<h2><span class="header-section-number">11.6</span> 依照其他變數將類別重新排序函式 fct_reorder()</h2>
<p>因子變數中的類別水準常常因其他變數而須將類別重新排序.</p>
<ul>
<li><code>fct_rev(f)</code>: 將反轉原有類別出現的排列順序.</li>
<li><code>fct_shuffle(f, n = 1L)</code>: 將原有類別出現的排列順序隨機變更.</li>
<li><code>fct_reorder(.f, .x, .fun = median, ..., .desc = FALSE)</code></li>
<li><code>fct_reorder2(.f, .x, .y, .fun = last2, ..., .desc = TRUE)</code></li>
<li><code>first2(.x, .y)</code></li>
<li><code>last2(.x, .y)</code></li>
</ul>
<p><code>fct_reorder()</code> 將因子 <code>f</code> 類別出現的排列順序依照其他變數更動,
<code>fct_reorder2()</code> 保留因子 <code>f</code> 原有類別出現的排列順序.
當 <code>y</code> 變數依照 <code>x</code> 變數排序, 函式 <code>first2(.x, .y)</code> 與 <code>last2(.x, .y)</code><br />
可尋找 <code>y</code> 變數的最前與最後的 2 個數值.
其中引數</p>
<ul>
<li><code>.f</code>: 為主要因子變數.</li>
<li><code>.x, .y</code>: 為其他變數.</li>
<li><code>.fun</code>: 為摘要函式.</li>
<li><code>.desc = FALSE</code> 由小到大排序.</li>
</ul>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="forcats.html#cb235-1" aria-hidden="true"></a>f &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>))</span>
<span id="cb235-2"><a href="forcats.html#cb235-2" aria-hidden="true"></a><span class="kw">fct_rev</span>(f)</span>
<span id="cb235-3"><a href="forcats.html#cb235-3" aria-hidden="true"></a><span class="co">## [1] a b c</span></span>
<span id="cb235-4"><a href="forcats.html#cb235-4" aria-hidden="true"></a><span class="co">## Levels: c b a</span></span>
<span id="cb235-5"><a href="forcats.html#cb235-5" aria-hidden="true"></a><span class="kw">fct_shuffle</span>(f)</span>
<span id="cb235-6"><a href="forcats.html#cb235-6" aria-hidden="true"></a><span class="co">## [1] a b c</span></span>
<span id="cb235-7"><a href="forcats.html#cb235-7" aria-hidden="true"></a><span class="co">## Levels: a c b</span></span>
<span id="cb235-8"><a href="forcats.html#cb235-8" aria-hidden="true"></a><span class="kw">fct_shuffle</span>(f)</span>
<span id="cb235-9"><a href="forcats.html#cb235-9" aria-hidden="true"></a><span class="co">## [1] a b c</span></span>
<span id="cb235-10"><a href="forcats.html#cb235-10" aria-hidden="true"></a><span class="co">## Levels: c b a</span></span>
<span id="cb235-11"><a href="forcats.html#cb235-11" aria-hidden="true"></a><span class="co">##</span></span>
<span id="cb235-12"><a href="forcats.html#cb235-12" aria-hidden="true"></a>df &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw">tribble</span>(</span>
<span id="cb235-13"><a href="forcats.html#cb235-13" aria-hidden="true"></a>  <span class="op">~</span>color,     <span class="op">~</span>a, <span class="op">~</span>b,</span>
<span id="cb235-14"><a href="forcats.html#cb235-14" aria-hidden="true"></a>  <span class="st">&quot;blue&quot;</span>,      <span class="dv">1</span>,  <span class="dv">2</span>,</span>
<span id="cb235-15"><a href="forcats.html#cb235-15" aria-hidden="true"></a>  <span class="st">&quot;green&quot;</span>,     <span class="dv">6</span>,  <span class="dv">2</span>,</span>
<span id="cb235-16"><a href="forcats.html#cb235-16" aria-hidden="true"></a>  <span class="st">&quot;purple&quot;</span>,    <span class="dv">3</span>,  <span class="dv">3</span>,</span>
<span id="cb235-17"><a href="forcats.html#cb235-17" aria-hidden="true"></a>  <span class="st">&quot;red&quot;</span>,       <span class="dv">2</span>,  <span class="dv">3</span>,</span>
<span id="cb235-18"><a href="forcats.html#cb235-18" aria-hidden="true"></a>  <span class="st">&quot;yellow&quot;</span>,    <span class="dv">5</span>,  <span class="dv">1</span></span>
<span id="cb235-19"><a href="forcats.html#cb235-19" aria-hidden="true"></a>)</span>
<span id="cb235-20"><a href="forcats.html#cb235-20" aria-hidden="true"></a>df<span class="op">$</span>color &lt;-<span class="st"> </span><span class="kw">factor</span>(df<span class="op">$</span>color)</span>
<span id="cb235-21"><a href="forcats.html#cb235-21" aria-hidden="true"></a><span class="co">##</span></span>
<span id="cb235-22"><a href="forcats.html#cb235-22" aria-hidden="true"></a><span class="kw">fct_reorder</span>(df<span class="op">$</span>color, df<span class="op">$</span>a, min)</span>
<span id="cb235-23"><a href="forcats.html#cb235-23" aria-hidden="true"></a><span class="co">## [1] blue   green  purple red    yellow</span></span>
<span id="cb235-24"><a href="forcats.html#cb235-24" aria-hidden="true"></a><span class="co">## Levels: blue red purple yellow green</span></span>
<span id="cb235-25"><a href="forcats.html#cb235-25" aria-hidden="true"></a><span class="kw">fct_reorder2</span>(df<span class="op">$</span>color, df<span class="op">$</span>a, df<span class="op">$</span>b)</span>
<span id="cb235-26"><a href="forcats.html#cb235-26" aria-hidden="true"></a><span class="co">## [1] blue   green  purple red    yellow</span></span>
<span id="cb235-27"><a href="forcats.html#cb235-27" aria-hidden="true"></a><span class="co">## Levels: purple red blue green yellow</span></span></code></pre></div>
<p>以第 5 章中 <strong>退伍軍人肺癌臨床試驗</strong> 資料 (<strong>survVATrial.csv</strong>) 為例,
細胞型態 <code>cellcode</code> 有 4 種類別.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="forcats.html#cb236-1" aria-hidden="true"></a><span class="kw">boxplot</span>(time <span class="op">~</span><span class="st"> </span>cellcode, <span class="dt">data =</span> dd)</span></code></pre></div>
<p><img src="r4biost_files/figure-html/unnamed-chunk-165-1.png" width="432" /></p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="forcats.html#cb237-1" aria-hidden="true"></a><span class="kw">boxplot</span>(time <span class="op">~</span><span class="st"> </span><span class="kw">fct_reorder</span>(cellcode, time), <span class="dt">data =</span> dd)</span></code></pre></div>
<p><img src="r4biost_files/figure-html/unnamed-chunk-165-2.png" width="432" /></p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="forcats.html#cb238-1" aria-hidden="true"></a><span class="kw">boxplot</span>(time <span class="op">~</span><span class="st"> </span><span class="kw">fct_reorder</span>(cellcode, time, <span class="dt">.desc =</span> <span class="ot">TRUE</span>), <span class="dt">data =</span> dd)</span></code></pre></div>
<p><img src="r4biost_files/figure-html/unnamed-chunk-165-3.png" width="432" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="stringr.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="lubridate.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "PMingLiU",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["r4biost.pdf", "r4biost.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
